<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#0c0c1a" id="metaTheme">
<meta name="description" content="MyKharcha ‚Äì Smart Expense Tracker">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="MyKharcha">
<title>MyKharcha ‚Äì Smart Expense Tracker</title>
<link rel="manifest" id="manifestLink">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Outfit:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
<!-- ‚ïê‚ïê FIREBASE SDK ‚ïê‚ïê -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<style>
/* ‚îÄ‚îÄ VARIABLES ‚îÄ‚îÄ */
:root{
  --bg:#0c0c1a; --bg2:#111125; --bg3:#181830;
  --card:rgba(255,255,255,.05); --card-h:rgba(255,255,255,.09);
  --bdr:rgba(255,255,255,.08); --bdr-h:rgba(139,127,255,.4);
  --txt:#eeeeff; --txt2:rgba(180,180,220,.75); --txt3:rgba(140,140,180,.5);
  --purple:#8b7fff; --pdim:rgba(139,127,255,.15);
  --blue:#4db8ff;  --bdim:rgba(77,184,255,.13);
  --green:#4dffb8; --gdim:rgba(77,255,184,.13);
  --red:#ff5f7e;   --rdim:rgba(255,95,126,.13);
  --orange:#ffaa4d;--odim:rgba(255,170,77,.13);
  --gm:linear-gradient(135deg,#8b7fff,#4db8ff);
  --gi:linear-gradient(135deg,#4dffb8,#4db8ff);
  --ge:linear-gradient(135deg,#ff5f7e,#ffaa4d);
  --gw:linear-gradient(135deg,#ffaa4d,#ff6bda);
  --r1:24px; --r2:18px; --r3:14px; --r4:10px;
  --sh:0 8px 40px rgba(0,0,0,.5);
  --t:.25s cubic-bezier(.4,0,.2,1);
  --ts:.4s cubic-bezier(.34,1.56,.64,1);
}
[data-theme=light]{
  --bg:#f0f0f8; --bg2:#e8e8f5; --bg3:#fff;
  --card:rgba(255,255,255,.8); --card-h:rgba(255,255,255,1);
  --bdr:rgba(0,0,0,.07); --bdr-h:rgba(139,127,255,.4);
  --txt:#1a1a2e; --txt2:rgba(40,40,80,.7); --txt3:rgba(80,80,120,.5);
  --pdim:rgba(139,127,255,.12); --bdim:rgba(77,184,255,.12);
  --gdim:rgba(77,255,184,.12); --rdim:rgba(255,95,126,.12); --odim:rgba(255,170,77,.12);
  --sh:0 4px 24px rgba(100,100,160,.15);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   COLOR THEMES ‚Äî DARK VARIANTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

/* üü£ PURPLE THEME (Default) */
[data-color=purple]{
  --purple:#8b7fff; --pdim:rgba(139,127,255,.15);
  --gm:linear-gradient(135deg,#8b7fff,#4db8ff);
  --bdr-h:rgba(139,127,255,.4);
  --accent1:#8b7fff; --accent2:#4db8ff;
}
[data-color=purple][data-theme=dark] body::before{
  background:radial-gradient(ellipse 60% 40% at 20% 10%,rgba(139,127,255,.07) 0%,transparent 60%),radial-gradient(ellipse 50% 35% at 80% 85%,rgba(77,184,255,.05) 0%,transparent 60%);
}

/* ü©∑ PINK THEME */
[data-color=pink]{
  --purple:#ff6bda; --pdim:rgba(255,107,218,.15);
  --gm:linear-gradient(135deg,#ff6bda,#ff8fab);
  --bdr-h:rgba(255,107,218,.4);
  --accent1:#ff6bda; --accent2:#ff8fab;
}
[data-color=pink][data-theme=dark]{
  --bg:#1a0c1a; --bg2:#1f1025; --bg3:#261530;
  --bdr:rgba(255,107,218,.08);
}
[data-color=pink][data-theme=dark] body::before{
  background:radial-gradient(ellipse 60% 40% at 20% 10%,rgba(255,107,218,.08) 0%,transparent 60%),radial-gradient(ellipse 50% 35% at 80% 85%,rgba(255,143,171,.06) 0%,transparent 60%);
}
[data-color=pink][data-theme=light]{
  --bdr-h:rgba(255,107,218,.4);
  --pdim:rgba(255,107,218,.12);
}

/* üíô BLUE THEME */
[data-color=blue]{
  --purple:#4db8ff; --pdim:rgba(77,184,255,.15);
  --gm:linear-gradient(135deg,#4db8ff,#38f0e8);
  --bdr-h:rgba(77,184,255,.4);
  --accent1:#4db8ff; --accent2:#38f0e8;
}
[data-color=blue][data-theme=dark]{
  --bg:#080e1a; --bg2:#0d1525; --bg3:#111e30;
  --bdr:rgba(77,184,255,.08);
}
[data-color=blue][data-theme=dark] body::before{
  background:radial-gradient(ellipse 60% 40% at 20% 10%,rgba(77,184,255,.08) 0%,transparent 60%),radial-gradient(ellipse 50% 35% at 80% 85%,rgba(56,240,232,.05) 0%,transparent 60%);
}
[data-color=blue][data-theme=light]{
  --bdr-h:rgba(77,184,255,.4);
  --pdim:rgba(77,184,255,.12);
}

/* üåø GREEN THEME */
[data-color=green]{
  --purple:#4dffb8; --pdim:rgba(77,255,184,.15);
  --gm:linear-gradient(135deg,#4dffb8,#4db8ff);
  --bdr-h:rgba(77,255,184,.4);
  --accent1:#4dffb8; --accent2:#4db8ff;
}
[data-color=green][data-theme=dark]{
  --bg:#080f0e; --bg2:#0d1715; --bg3:#11201e;
  --bdr:rgba(77,255,184,.08);
}
[data-color=green][data-theme=dark] body::before{
  background:radial-gradient(ellipse 60% 40% at 20% 10%,rgba(77,255,184,.08) 0%,transparent 60%),radial-gradient(ellipse 50% 35% at 80% 85%,rgba(77,184,255,.05) 0%,transparent 60%);
}
[data-color=green][data-theme=light]{
  --bdr-h:rgba(77,255,184,.4);
  --pdim:rgba(77,255,184,.12);
}

/* üî• ORANGE THEME */
[data-color=orange]{
  --purple:#ffaa4d; --pdim:rgba(255,170,77,.15);
  --gm:linear-gradient(135deg,#ffaa4d,#ff6b6b);
  --bdr-h:rgba(255,170,77,.4);
  --accent1:#ffaa4d; --accent2:#ff6b6b;
}
[data-color=orange][data-theme=dark]{
  --bg:#160d06; --bg2:#1e1208; --bg3:#26180b;
  --bdr:rgba(255,170,77,.08);
}
[data-color=orange][data-theme=dark] body::before{
  background:radial-gradient(ellipse 60% 40% at 20% 10%,rgba(255,170,77,.08) 0%,transparent 60%),radial-gradient(ellipse 50% 35% at 80% 85%,rgba(255,107,107,.06) 0%,transparent 60%);
}
[data-color=orange][data-theme=light]{
  --bdr-h:rgba(255,170,77,.4);
  --pdim:rgba(255,170,77,.12);
}

/* ‚ïê‚ïê COLOR THEME PICKER UI ‚ïê‚ïê */
.color-theme-section{margin-top:2px}
.color-themes-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;padding:4px 2px}
.ct-card{display:flex;flex-direction:column;align-items:center;gap:6px;cursor:pointer;padding:10px 6px;border-radius:var(--r2);border:2px solid transparent;background:var(--card);transition:var(--t);position:relative}
.ct-card:hover{border-color:var(--bdr-h);background:var(--card-h)}
.ct-card.active{border-color:var(--purple);background:var(--pdim)}
.ct-card.active::after{content:'‚úì';position:absolute;top:5px;right:6px;font-size:9px;font-weight:800;color:var(--purple)}
.ct-swatch{width:36px;height:36px;border-radius:50%;box-shadow:0 4px 12px rgba(0,0,0,.3);flex-shrink:0}
.ct-name{font-size:9px;font-weight:700;color:var(--txt3);text-transform:uppercase;letter-spacing:.3px;text-align:center;line-height:1.2}
/* Dark/Light mode row */
.mode-row{display:flex;gap:8px;margin-top:2px}
.mode-btn{flex:1;padding:11px 8px;border-radius:var(--r2);border:2px solid var(--bdr);background:var(--card);color:var(--txt3);font-size:12px;font-weight:700;cursor:pointer;transition:var(--t);display:flex;align-items:center;justify-content:center;gap:7px}
.mode-btn:hover{border-color:var(--bdr-h);background:var(--card-h)}
.mode-btn.active{border-color:var(--purple);background:var(--pdim);color:var(--purple)}
.mode-btn .material-icons-round{font-size:18px}
/* ‚îÄ‚îÄ RESET ‚îÄ‚îÄ */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html{font-size:16px;height:100%}
body{font-family:'Plus Jakarta Sans',sans-serif;background:var(--bg);color:var(--txt);min-height:100svh;overflow-x:hidden;transition:background .3s,color .3s;-webkit-font-smoothing:antialiased}
body::before{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;background:radial-gradient(ellipse 60% 40% at 20% 10%,rgba(139,127,255,.07) 0%,transparent 60%),radial-gradient(ellipse 50% 35% at 80% 85%,rgba(77,184,255,.05) 0%,transparent 60%)}
::-webkit-scrollbar{width:3px}::-webkit-scrollbar-thumb{background:var(--purple);border-radius:2px}
input,select,textarea,button{font-family:inherit}
input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none}
/* ‚îÄ‚îÄ APP SHELL ‚îÄ‚îÄ */
#app{position:relative;z-index:1;max-width:430px;margin:0 auto;min-height:100svh}
/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
.hdr{position:sticky;top:0;z-index:200;padding:13px 16px 10px;background:rgba(12,12,26,.9);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border-bottom:1px solid var(--bdr);display:flex;align-items:center;justify-content:space-between;transition:background .3s}
[data-theme=light] .hdr{background:rgba(240,240,248,.92)}
.hdr-brand .logo{font-family:'Outfit',sans-serif;font-size:20px;font-weight:900;letter-spacing:-.5px;background:var(--gm);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hdr-brand .sub{font-size:10px;color:var(--txt3);margin-top:1px}
.hdr-acts{display:flex;gap:8px;align-items:center}
.hbtn{width:36px;height:36px;border-radius:var(--r3);border:1px solid var(--bdr);background:var(--card);color:var(--txt);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--t);position:relative;flex-shrink:0}
.hbtn:hover{background:var(--pdim);border-color:var(--purple);color:var(--purple)}
.hbtn .material-icons-round{font-size:18px}
.hbtn .dot{position:absolute;top:-3px;right:-3px;width:8px;height:8px;border-radius:50%;background:var(--red);border:2px solid var(--bg);display:none}
.hbtn .dot.on{display:block}
/* ‚îÄ‚îÄ AD SLOTS ‚îÄ‚îÄ */
.ad-banner{width:100%;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.15);border-bottom:1px solid var(--bdr);padding:4px 0;min-height:58px;overflow:hidden}
[data-theme=light] .ad-banner{background:rgba(0,0,0,.04)}
.ad-native{width:100%;padding:10px 14px;background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2);overflow:hidden;margin-bottom:0}
.ad-label{font-size:8px;font-weight:700;color:var(--txt3);text-transform:uppercase;letter-spacing:.5px;margin-bottom:3px}
/* ‚îÄ‚îÄ PAGES ‚îÄ‚îÄ */
.page{display:none;padding-bottom:85px;min-height:calc(100svh - 60px)}
.page.active{display:block;animation:fadeUp .3s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.pg{padding:14px 15px;display:flex;flex-direction:column;gap:13px}
/* ‚îÄ‚îÄ BOTTOM NAV ‚îÄ‚îÄ */
.bnav{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:430px;background:rgba(12,12,26,.95);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border-top:1px solid var(--bdr);display:flex;z-index:300;padding:5px 0 max(6px,env(safe-area-inset-bottom))}
[data-theme=light] .bnav{background:rgba(240,240,248,.95)}
.nbtn{flex:1;display:flex;flex-direction:column;align-items:center;gap:2px;padding:5px 2px;border:none;background:none;color:var(--txt3);font-size:9px;font-weight:700;cursor:pointer;transition:var(--t);text-transform:uppercase;letter-spacing:.3px;position:relative}
.nbtn.on{color:var(--purple)}
.nbtn.on .niw{background:var(--pdim)}
.niw{width:34px;height:26px;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:var(--t)}
.nbtn:hover .niw{background:var(--pdim)}
.nbtn .material-icons-round{font-size:21px}
.nbtn .rdot{position:absolute;top:3px;right:calc(50% - 17px);width:6px;height:6px;border-radius:50%;background:var(--red);display:none}
.nbtn .rdot.on{display:block}
/* ‚îÄ‚îÄ FAB ‚îÄ‚îÄ */
.fab{position:fixed;bottom:70px;right:max(16px,calc(50% - 215px + 16px));width:52px;height:52px;border-radius:18px;background:var(--gm);border:none;color:#fff;cursor:pointer;box-shadow:0 8px 28px rgba(139,127,255,.5);display:flex;align-items:center;justify-content:center;z-index:250;transition:var(--ts)}
.fab:hover{transform:scale(1.1) translateY(-2px);box-shadow:0 14px 36px rgba(139,127,255,.6)}
.fab:active{transform:scale(.94)}
.fab .material-icons-round{font-size:26px}
/* ‚îÄ‚îÄ CARDS ‚îÄ‚îÄ */
.card{background:var(--card);border:1px solid var(--bdr);border-radius:var(--r1);backdrop-filter:blur(10px);overflow:hidden}
.cp{padding:17px}
/* ‚îÄ‚îÄ HERO CARD ‚îÄ‚îÄ */
.hero{background:var(--gm);border-radius:var(--r1);padding:20px;position:relative;overflow:hidden}
.hero::before{content:'';position:absolute;top:-40px;right:-40px;width:130px;height:130px;background:rgba(255,255,255,.1);border-radius:50%}
.hero::after{content:'';position:absolute;bottom:-25px;left:25px;width:85px;height:85px;background:rgba(255,255,255,.06);border-radius:50%}
.hero .hl{font-size:11px;font-weight:600;color:rgba(255,255,255,.75);text-transform:uppercase;letter-spacing:1px;margin-bottom:5px}
.hero .ha{font-family:'Outfit',sans-serif;font-size:40px;font-weight:900;color:#fff;line-height:1;position:relative;z-index:1}
.hero .hs{font-size:12px;color:rgba(255,255,255,.65);margin-top:3px}
.hero-row{display:flex;gap:8px;margin-top:16px;position:relative;z-index:1}
.hstat{flex:1;background:rgba(255,255,255,.17);border-radius:13px;padding:9px 11px}
.hstat .sl{font-size:9px;color:rgba(255,255,255,.7);text-transform:uppercase;letter-spacing:.4px}
.hstat .sv{font-family:'Outfit',sans-serif;font-size:15px;font-weight:800;color:#fff;margin-top:2px}
.lstrip{position:relative;z-index:1;margin-top:13px}
.lrow{display:flex;justify-content:space-between;font-size:10px;color:rgba(255,255,255,.75);margin-bottom:5px}
.ltrack{height:5px;background:rgba(255,255,255,.2);border-radius:3px;overflow:hidden}
.lfill{height:100%;border-radius:3px;background:rgba(255,255,255,.9);transition:width .7s ease}
.lfill.over{background:#ffdd57}
/* ‚îÄ‚îÄ STAT MINIS ‚îÄ‚îÄ */
.sgrid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.smini{background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2);padding:14px;transition:var(--t)}
.smini:hover{border-color:var(--bdr-h)}
.smini .ico{width:33px;height:33px;border-radius:10px;display:flex;align-items:center;justify-content:center;margin-bottom:9px}
.smini .ico .material-icons-round{font-size:17px}
.smini .lbl{font-size:10px;color:var(--txt3);text-transform:uppercase;letter-spacing:.5px;font-weight:600}
.smini .val{font-family:'Outfit',sans-serif;font-size:20px;font-weight:800;margin-top:3px;line-height:1}
.smini.inc{border-color:rgba(77,255,184,.15)}.smini.inc .ico{background:var(--gdim)}.smini.inc .ico .material-icons-round{color:var(--green)}.smini.inc .val{color:var(--green)}
.smini.sav .ico{background:var(--bdim)}.smini.sav .ico .material-icons-round{color:var(--blue)}.smini.sav .val{color:var(--blue)}
/* ‚îÄ‚îÄ SECTION HEADER ‚îÄ‚îÄ */
.sh{display:flex;align-items:center;justify-content:space-between;margin-bottom:11px}
.sh h2{font-family:'Outfit',sans-serif;font-size:16px;font-weight:800}
.sh .sa{font-size:11px;font-weight:700;color:var(--purple);cursor:pointer}
/* ‚îÄ‚îÄ CATEGORY ROW ‚îÄ‚îÄ */
.clist{display:flex;flex-direction:column;gap:7px}
.crow{display:flex;align-items:center;gap:10px;padding:9px 12px;background:var(--card);border:1px solid var(--bdr);border-radius:var(--r3);transition:var(--t)}
.crow:hover{border-color:var(--bdr-h);background:var(--card-h)}
.crow .ci{width:30px;height:30px;border-radius:9px;flex-shrink:0;display:flex;align-items:center;justify-content:center}
.crow .ci .material-icons-round{font-size:14px}
.crow .cm{flex:1;min-width:0}
.crow .cn{font-size:12px;font-weight:700}
.cpbar{height:3px;background:var(--bdr);border-radius:2px;overflow:hidden;margin-top:4px}
.cpfill{height:100%;border-radius:2px;transition:width .8s ease}
.crow .cp2{font-size:10px;color:var(--txt3);font-weight:600}
.crow .ca{font-family:'Outfit',sans-serif;font-size:13px;font-weight:800}
/* ‚îÄ‚îÄ TRANSACTION ‚îÄ‚îÄ */
.tlist{display:flex;flex-direction:column;gap:7px}
.txn{background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2);padding:12px 13px;display:flex;align-items:center;gap:10px;transition:var(--t);position:relative;overflow:hidden}
.txn::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;opacity:0;transition:var(--t)}
.txn:hover{border-color:var(--bdr-h);background:var(--card-h);transform:translateX(2px)}
.txn:hover::before{opacity:1}
.txn.ex::before{background:var(--red)}.txn.in::before{background:var(--green)}
.tico{width:40px;height:40px;border-radius:12px;flex-shrink:0;display:flex;align-items:center;justify-content:center}
.tico .material-icons-round{font-size:18px}
.tbody{flex:1;min-width:0}
.tbody .tc{font-size:13px;font-weight:700;display:flex;align-items:center;gap:5px;flex-wrap:wrap}
.tbody .tn{font-size:11px;color:var(--txt3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:2px}
.tbody .tt{font-size:10px;color:var(--txt3);margin-top:1px}
.tright{display:flex;flex-direction:column;align-items:flex-end;gap:4px;flex-shrink:0}
.tamt{font-family:'Outfit',sans-serif;font-size:16px;font-weight:900;white-space:nowrap}
.tamt.ex{color:var(--red)}.tamt.in{color:var(--green)}
.tacts{display:flex;gap:3px}
.tabtn{width:26px;height:26px;border-radius:7px;border:1px solid var(--bdr);background:transparent;color:var(--txt3);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--t)}
.tabtn .material-icons-round{font-size:13px}
.tabtn:hover.ed{color:var(--blue);border-color:var(--blue);background:var(--bdim)}
.tabtn:hover.dl{color:var(--red);border-color:var(--red);background:var(--rdim)}
.tabtn:hover.wa{color:var(--green);border-color:var(--green);background:var(--gdim)}
/* ‚îÄ‚îÄ TAGS ‚îÄ‚îÄ */
.tag{display:inline-flex;align-items:center;padding:2px 7px;border-radius:5px;font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.3px;white-space:nowrap}
.tag.cash{background:var(--gdim);color:var(--green)}.tag.upi{background:var(--bdim);color:var(--blue)}.tag.card{background:var(--odim);color:var(--orange)}.tag.income-tag{background:var(--gdim);color:var(--green)}
/* ‚îÄ‚îÄ EMPTY STATE ‚îÄ‚îÄ */
.empty{text-align:center;padding:44px 20px;color:var(--txt3)}
.empty .material-icons-round{font-size:52px;display:block;margin-bottom:10px;opacity:.2}
.empty h3{font-size:15px;font-weight:700;margin-bottom:5px;color:var(--txt2)}
.empty p{font-size:12px}
/* ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ */
.ov{position:fixed;inset:0;z-index:500;background:rgba(0,0,0,.78);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);display:flex;align-items:flex-end;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s}
.ov.open{opacity:1;pointer-events:all}
.modal{width:100%;max-width:430px;background:var(--bg2);border-radius:26px 26px 0 0;border:1px solid var(--bdr);border-bottom:none;max-height:92svh;overflow-y:auto;transform:translateY(100%);transition:transform .38s cubic-bezier(.32,.72,0,1);padding-bottom:max(18px,env(safe-area-inset-bottom))}
.ov.open .modal{transform:translateY(0)}
.mhdl{width:36px;height:4px;background:var(--bdr);border-radius:2px;margin:10px auto 0}
.mhdr{padding:13px 17px 11px;display:flex;align-items:center;justify-content:space-between}
.mhdr h2{font-family:'Outfit',sans-serif;font-size:20px;font-weight:900}
.mcls{width:31px;height:31px;border-radius:8px;border:1px solid var(--bdr);background:var(--card);color:var(--txt2);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--t)}
.mcls:hover{background:var(--rdim);border-color:var(--red);color:var(--red)}
.mcls .material-icons-round{font-size:15px}
.mbody{padding:0 17px}
/* ‚îÄ‚îÄ FORM ELEMENTS ‚îÄ‚îÄ */
.tg{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:16px}
.tbtn{padding:10px;border-radius:var(--r3);border:1px solid var(--bdr);background:var(--card);color:var(--txt3);font-size:13px;font-weight:700;cursor:pointer;transition:var(--t);display:flex;align-items:center;justify-content:center;gap:5px}
.tbtn .material-icons-round{font-size:15px}
.tbtn.ae{background:var(--rdim);border-color:var(--red);color:var(--red)}
.tbtn.ai{background:var(--gdim);border-color:var(--green);color:var(--green)}
.fg{margin-bottom:14px}
.fl{display:block;font-size:11px;font-weight:700;color:var(--txt3);text-transform:uppercase;letter-spacing:.6px;margin-bottom:7px}
.fi,.fs,.fta{width:100%;background:var(--card);border:1px solid var(--bdr);border-radius:var(--r3);padding:11px 13px;color:var(--txt);font-size:14px;outline:none;transition:var(--t);-webkit-appearance:none;appearance:none}
.fi:focus,.fs:focus,.fta:focus{border-color:var(--purple);box-shadow:0 0 0 3px rgba(139,127,255,.12)}
.fta{resize:none;min-height:72px}
.fr{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.awrap{position:relative}
.apfx{position:absolute;left:13px;top:50%;transform:translateY(-50%);font-family:'Outfit',sans-serif;font-size:22px;font-weight:800;color:var(--purple);pointer-events:none}
.afi{width:100%;background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2);padding:15px 13px 15px 36px;color:var(--txt);font-family:'Outfit',sans-serif;font-size:30px;font-weight:900;outline:none;transition:var(--t)}
.afi:focus{border-color:var(--purple);box-shadow:0 0 0 3px rgba(139,127,255,.12)}
.afi::placeholder{color:var(--txt3);font-weight:400}
/* chips */
.cwrap{display:flex;flex-wrap:wrap;gap:6px}
.cc{padding:6px 11px;border-radius:18px;border:1px solid var(--bdr);background:var(--card);color:var(--txt3);font-size:11px;font-weight:700;cursor:pointer;transition:var(--t);display:flex;align-items:center;gap:4px}
.cc .material-icons-round{font-size:13px}
.cc:hover{border-color:var(--purple);color:var(--purple)}
.cc.sel{background:var(--pdim);border-color:var(--purple);color:var(--purple)}
.pwrap{display:flex;gap:8px}
.pc{flex:1;padding:9px 4px;border-radius:var(--r3);text-align:center;border:1px solid var(--bdr);background:var(--card);color:var(--txt3);font-size:11px;font-weight:700;cursor:pointer;transition:var(--t)}
.pc.sel{background:var(--bdim);border-color:var(--blue);color:var(--blue)}
/* submit btn */
.sbtn{width:100%;padding:14px;background:var(--gm);border:none;border-radius:var(--r2);color:#fff;font-family:'Outfit',sans-serif;font-size:16px;font-weight:800;cursor:pointer;transition:var(--t);margin-top:5px;box-shadow:0 8px 28px rgba(139,127,255,.4);letter-spacing:.3px}
.sbtn:hover{transform:translateY(-2px);box-shadow:0 14px 36px rgba(139,127,255,.55)}
.sbtn:active{transform:translateY(0)}
.sbtn.dng{background:var(--ge);box-shadow:0 8px 24px rgba(255,95,126,.3)}
.sbtn.grn{background:linear-gradient(135deg,#25D366,#128C7E)}
.mb{margin-bottom:12px}
/* ‚îÄ‚îÄ HISTORY ‚îÄ‚îÄ */
.swrap{position:relative}
.swrap .material-icons-round{position:absolute;left:11px;top:50%;transform:translateY(-50%);color:var(--txt3);font-size:17px;pointer-events:none}
.sbar{width:100%;background:var(--card);border:1px solid var(--bdr);border-radius:var(--r3);padding:10px 12px 10px 36px;color:var(--txt);font-size:13px;outline:none;transition:var(--t)}
.sbar:focus{border-color:var(--purple)}
.fscroll{display:flex;gap:6px;overflow-x:auto;padding-bottom:3px;-webkit-overflow-scrolling:touch}
.fscroll::-webkit-scrollbar{display:none}
.fc{padding:6px 12px;border-radius:16px;white-space:nowrap;flex-shrink:0;border:1px solid var(--bdr);background:var(--card);color:var(--txt3);font-size:11px;font-weight:700;cursor:pointer;transition:var(--t)}
.fc.on{background:var(--pdim);border-color:var(--purple);color:var(--purple)}
.drow{display:flex;gap:8px;align-items:center}
.drow .fi{flex:1;padding:9px 11px;font-size:12px}
.cbtn{padding:9px 13px;border-radius:var(--r3);background:var(--card);border:1px solid var(--bdr);color:var(--txt2);font-size:12px;font-weight:700;cursor:pointer;transition:var(--t);white-space:nowrap}
.cbtn:hover{border-color:var(--purple);color:var(--purple)}
.dgrp{margin-bottom:14px}
.dlbl{display:flex;justify-content:space-between;padding:0 2px;margin-bottom:7px}
.dlbl .dl{font-size:12px;font-weight:700;color:var(--txt2)}
.dlbl .dr{font-family:'Outfit',sans-serif;font-size:13px;font-weight:800;color:var(--red)}
/* ‚îÄ‚îÄ REPORTS ‚îÄ‚îÄ */
.mnav{display:flex;align-items:center;justify-content:space-between;padding:11px 15px;background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2)}
.mbtn{background:var(--card);border:1px solid var(--bdr);color:var(--txt);border-radius:var(--r4);padding:6px 13px;font-size:12px;font-weight:700;cursor:pointer;transition:var(--t)}
.mbtn:hover{background:var(--pdim);border-color:var(--purple);color:var(--purple)}
.mtit{font-family:'Outfit',sans-serif;font-size:15px;font-weight:800}
.ccard{background:var(--card);border:1px solid var(--bdr);border-radius:var(--r1);padding:17px}
.ccard h3{font-family:'Outfit',sans-serif;font-size:14px;font-weight:800;margin-bottom:14px;color:var(--txt2)}
.cbox{position:relative;height:190px}
.egrid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.ebtn{padding:12px;border-radius:var(--r3);border:1px solid var(--bdr);background:var(--card);color:var(--txt);font-size:12px;font-weight:700;cursor:pointer;transition:var(--t);display:flex;align-items:center;justify-content:center;gap:7px}
.ebtn:hover{background:var(--pdim);border-color:var(--purple)}
.ebtn .material-icons-round{font-size:17px;color:var(--purple)}
/* ‚îÄ‚îÄ BILLS ‚îÄ‚îÄ */
.bcard{background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2);padding:13px 14px;display:flex;align-items:center;gap:11px;transition:var(--t);margin-bottom:7px;position:relative;overflow:hidden}
.bcard::before{content:'';position:absolute;left:0;top:0;bottom:0;width:4px}
.bcard.dt::before{background:var(--red)}.bcard.ds::before{background:var(--orange)}.bcard.uc::before{background:var(--purple)}
.bcard:hover{border-color:var(--bdr-h);background:var(--card-h)}
.bico{width:38px;height:38px;border-radius:11px;flex-shrink:0;display:flex;align-items:center;justify-content:center}
.bico .material-icons-round{font-size:18px}
.binfo{flex:1;min-width:0}
.binfo .bn{font-size:13px;font-weight:700}
.binfo .bd{font-size:11px;color:var(--txt3);margin-top:2px}
.bright{display:flex;flex-direction:column;align-items:flex-end;gap:4px;flex-shrink:0}
.bamt{font-family:'Outfit',sans-serif;font-size:15px;font-weight:800}
.bst{font-size:9px;font-weight:700;padding:3px 8px;border-radius:6px;text-transform:uppercase;letter-spacing:.3px}
.bst.tod{background:var(--rdim);color:var(--red)}.bst.sn{background:var(--odim);color:var(--orange)}.bst.ok{background:var(--gdim);color:var(--green)}.bst.pd{background:rgba(100,100,100,.15);color:var(--txt3)}
.bacts{display:flex;gap:3px;margin-top:2px}
/* ‚îÄ‚îÄ EMI ‚îÄ‚îÄ */
.ecard{background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2);padding:15px;margin-bottom:8px;transition:var(--t)}
.ecard:hover{border-color:var(--bdr-h)}
.etop{display:flex;align-items:center;gap:11px;margin-bottom:11px}
.eico{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.eico .material-icons-round{font-size:17px;color:#fff}
.etit{flex:1;min-width:0}
.etit .en{font-size:13px;font-weight:700}
.etit .eb{font-size:11px;color:var(--txt3);margin-top:1px}
.etit .ea{font-family:'Outfit',sans-serif;font-size:15px;font-weight:800;color:var(--orange)}
.epbar{height:8px;background:var(--bdr);border-radius:4px;overflow:hidden;margin-bottom:5px}
.epfill{height:100%;background:var(--gm);border-radius:4px;transition:width .8s ease}
.eplbl{display:flex;justify-content:space-between;font-size:10px;color:var(--txt3);font-weight:600}
.etags{display:flex;gap:7px;flex-wrap:wrap;margin-top:8px}
.etag{padding:4px 9px;border-radius:7px;font-size:10px;font-weight:700;background:var(--bg2);border:1px solid var(--bdr)}
/* ‚îÄ‚îÄ BUDGET ‚îÄ‚îÄ */
.bhero{background:var(--gw);border-radius:var(--r1);padding:19px;position:relative;overflow:hidden}
.bhero::before{content:'';position:absolute;top:-30px;right:-30px;width:110px;height:110px;background:rgba(255,255,255,.1);border-radius:50%}
.bhl{font-size:11px;font-weight:600;color:rgba(255,255,255,.8);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}
.bha{font-family:'Outfit',sans-serif;font-size:35px;font-weight:900;color:#fff;line-height:1}
.bhs{font-size:11px;color:rgba(255,255,255,.7);margin-top:3px}
.bhrow{display:flex;gap:8px;margin-top:13px;position:relative;z-index:1}
.bhitem{flex:1;background:rgba(255,255,255,.18);border-radius:11px;padding:8px 10px}
.bhitem .bi{font-size:9px;color:rgba(255,255,255,.75);text-transform:uppercase;letter-spacing:.4px}
.bhitem .bv{font-family:'Outfit',sans-serif;font-size:15px;font-weight:800;color:#fff;margin-top:2px}
.bclist{display:flex;flex-direction:column;gap:8px}
.bcitem{background:var(--card);border:1px solid var(--bdr);border-radius:var(--r3);padding:12px 14px;transition:var(--t)}
.bcitem:hover{border-color:var(--bdr-h)}
.bctop{display:flex;align-items:center;gap:9px;margin-bottom:7px}
.bcico{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.bcico .material-icons-round{font-size:13px}
.bcn{flex:1;font-size:12px;font-weight:700}
.bcp{font-size:10px;font-weight:700;color:var(--txt3)}
.bcamts{display:flex;justify-content:space-between;font-size:11px;margin-bottom:6px}
.bcsp{font-weight:700}.bcbg{color:var(--txt3)}
.bcbar{height:5px;background:var(--bdr);border-radius:3px;overflow:hidden}
.bcfill{height:100%;border-radius:3px;transition:width .8s ease}
.bcfill.sf{background:var(--green)}.bcfill.wn{background:var(--orange)}.bcfill.ov{background:var(--red)}
/* ‚îÄ‚îÄ SETTINGS ‚îÄ‚îÄ */
.sgt{font-size:10px;font-weight:800;color:var(--txt3);text-transform:uppercase;letter-spacing:1px;margin:4px 2px 7px}
.si{background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2);padding:12px 14px;display:flex;align-items:center;gap:12px;transition:var(--t);cursor:pointer;margin-bottom:7px}
.si:hover{border-color:var(--bdr-h);background:var(--card-h)}
.sico{width:37px;height:37px;border-radius:11px;flex-shrink:0;display:flex;align-items:center;justify-content:center}
.sico .material-icons-round{font-size:18px}
.sinf{flex:1}.sinf h4{font-size:13px;font-weight:700}.sinf p{font-size:11px;color:var(--txt3);margin-top:2px}
/* toggle */
.tgl{width:43px;height:23px;border-radius:12px;flex-shrink:0;background:var(--bdr);border:none;cursor:pointer;position:relative;transition:var(--t)}
.tgl.on{background:var(--purple)}
.tgl::after{content:'';position:absolute;left:3px;top:3px;width:17px;height:17px;border-radius:50%;background:#fff;box-shadow:0 2px 5px rgba(0,0,0,.3);transition:var(--t)}
.tgl.on::after{transform:translateX(20px)}
.lform{padding:12px 14px;background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2);margin-bottom:7px}
.linrow{display:flex;gap:8px;align-items:center}
.linp{flex:1;background:var(--bg2);border:1px solid var(--bdr);border-radius:10px;padding:9px 12px;color:var(--txt);font-family:'Outfit',sans-serif;font-size:15px;font-weight:700;outline:none;transition:var(--t)}
.linp:focus{border-color:var(--purple)}
.svbtn{padding:9px 15px;background:var(--gm);border:none;border-radius:10px;color:#fff;font-family:'Outfit',sans-serif;font-size:13px;font-weight:800;cursor:pointer;transition:var(--t)}
.svbtn:hover{transform:scale(1.04)}
/* goals */
.gcard{background:var(--card);border:1px solid var(--bdr);border-radius:var(--r2);padding:13px;margin-bottom:7px}
.gtop{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}
.gname{font-size:13px;font-weight:700}.gamts{font-size:11px;color:var(--txt3);margin-top:2px}
.gbar{height:7px;background:var(--bdr);border-radius:4px;overflow:hidden}.gfill{height:100%;background:var(--gi);border-radius:4px;transition:width .8s ease}
.gpct{font-size:11px;color:var(--blue);font-weight:700;margin-top:5px}
.gdel{width:25px;height:25px;border-radius:7px;border:1px solid var(--bdr);background:transparent;color:var(--txt3);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--t);flex-shrink:0}
.gdel:hover{color:var(--red);border-color:var(--red);background:var(--rdim)}
.gdel .material-icons-round{font-size:13px}
.agbtn{width:100%;padding:11px;background:var(--card);border:1px dashed var(--bdr);border-radius:var(--r2);color:var(--txt3);font-size:13px;font-weight:700;cursor:pointer;transition:var(--t);display:flex;align-items:center;justify-content:center;gap:7px;margin-top:3px}
.agbtn:hover{border-color:var(--purple);color:var(--purple);background:var(--pdim)}
/* install banner */
.ibanner{background:linear-gradient(135deg,rgba(139,127,255,.12),rgba(77,184,255,.08));border:1px solid rgba(139,127,255,.25);border-radius:var(--r2);padding:11px 13px;display:flex;align-items:center;gap:10px}
.ibanner .material-icons-round{color:var(--purple);font-size:21px;flex-shrink:0}
.ibinfo{flex:1}.ibinfo h4{font-size:12px;font-weight:800}.ibinfo p{font-size:10px;color:var(--txt3);margin-top:1px}
.ibbtn{padding:7px 12px;background:var(--purple);border:none;border-radius:8px;color:#fff;font-size:11px;font-weight:800;cursor:pointer;white-space:nowrap;transition:var(--t)}
.ibbtn:hover{transform:scale(1.05)}
/* WA preview */
.wabox{background:#075E54;border-radius:14px;padding:14px;margin-bottom:13px}
.wahdr{font-size:10px;color:rgba(255,255,255,.6);margin-bottom:7px;text-transform:uppercase;letter-spacing:.5px}
.wamsg{background:#128C7E;border-radius:10px;padding:11px 13px;font-size:12px;color:#fff;line-height:1.65;white-space:pre-wrap;word-break:break-word}
/* ‚îÄ‚îÄ LANGUAGE SELECTOR ‚îÄ‚îÄ */
.lang-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:4px}
.lang-btn{padding:10px 8px;border-radius:var(--r3);border:1px solid var(--bdr);background:var(--card);color:var(--txt3);font-size:12px;font-weight:700;cursor:pointer;transition:var(--t);text-align:center;display:flex;flex-direction:column;align-items:center;gap:3px}
.lang-btn .lflag{font-size:18px}
.lang-btn .lname{font-size:9px;text-transform:uppercase;letter-spacing:.5px}
.lang-btn:hover{border-color:var(--purple);color:var(--purple);background:var(--pdim)}
.lang-btn.sel{border-color:var(--purple);background:var(--pdim);color:var(--purple)}
/* ‚îÄ‚îÄ PIN LOCK SCREEN ‚îÄ‚îÄ */
#lkscr{position:fixed;inset:0;z-index:9999;background:var(--bg);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;padding:30px 24px}
.lklogo{font-family:'Outfit',sans-serif;font-size:26px;font-weight:900;background:var(--gm);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.lksub{font-size:12px;color:var(--txt3);margin-top:-14px}
.lkmeths{display:flex;flex-direction:column;align-items:center;gap:14px;width:100%;max-width:260px}
.pdots{display:flex;gap:13px;margin:3px 0}
.pd{width:13px;height:13px;border-radius:50%;border:2px solid var(--purple);background:transparent;transition:var(--t)}
.pd.on{background:var(--purple);box-shadow:0 0 10px rgba(139,127,255,.6)}
.numpad{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;width:220px}
.nb{aspect-ratio:1;border-radius:50%;background:var(--card);border:1px solid var(--bdr);color:var(--txt);font-family:'Outfit',sans-serif;font-size:21px;font-weight:800;cursor:pointer;transition:var(--ts);display:flex;align-items:center;justify-content:center}
.nb:hover{background:var(--pdim);border-color:var(--purple);color:var(--purple)}
.nb:active{transform:scale(.88)}
.pinerr{font-size:12px;color:var(--red);font-weight:700;height:15px;text-align:center}
/* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
#toast{position:fixed;top:72px;left:50%;transform:translateX(-50%) translateY(-130px);z-index:3000;background:var(--bg2);border:1px solid var(--bdr);border-radius:var(--r3);padding:10px 16px;font-size:12px;font-weight:700;display:flex;align-items:center;gap:8px;transition:transform .35s cubic-bezier(.34,1.56,.64,1);box-shadow:var(--sh);max-width:300px;white-space:nowrap}
#toast.on{transform:translateX(-50%) translateY(0)}
#toast.ok{border-color:rgba(77,255,184,.4);color:var(--green)}
#toast.err{border-color:rgba(255,95,126,.4);color:var(--red)}
#toast.warn{border-color:rgba(255,170,77,.4);color:var(--orange)}
#toast .material-icons-round{font-size:16px}
/* ‚îÄ‚îÄ MISC ‚îÄ‚îÄ */
input[type=date],input[type=time]{color-scheme:dark}
[data-theme=light] input[type=date],[data-theme=light] input[type=time]{color-scheme:light}
.divider{height:1px;background:var(--bdr);margin:4px 0}
/* RTL support for Urdu */
[data-lang=ur] .pg, [data-lang=ur] .mbody, [data-lang=ur] .mhdr h2,
[data-lang=ur] .hdr-brand, [data-lang=ur] .sinf h4, [data-lang=ur] .sinf p,
[data-lang=ur] .tbody .tc, [data-lang=ur] .tbody .tn, [data-lang=ur] .binfo .bn {
  direction: rtl;
}
/* ‚ïê‚ïê FIREBASE AUTH SCREEN ‚ïê‚ïê */
#authScreen{position:fixed;inset:0;z-index:9999;background:var(--bg);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px}
#authScreen .auth-logo{font-family:'Outfit',sans-serif;font-size:36px;font-weight:900;background:var(--gm);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:6px}
#authScreen .auth-sub{font-size:13px;color:var(--txt3);margin-bottom:40px;text-align:center}
.auth-card{width:100%;max-width:360px;background:var(--card);border:1px solid var(--bdr);border-radius:var(--r1);padding:26px;backdrop-filter:blur(10px)}
.auth-card h2{font-family:'Outfit',sans-serif;font-size:22px;font-weight:900;margin-bottom:4px}
.auth-card .auth-desc{font-size:12px;color:var(--txt3);margin-bottom:24px}
.auth-tabs{display:flex;gap:0;margin-bottom:20px;background:var(--bg2);border-radius:12px;padding:3px}
.auth-tab{flex:1;padding:8px;text-align:center;font-size:13px;font-weight:700;border-radius:10px;cursor:pointer;transition:var(--t);color:var(--txt3)}
.auth-tab.on{background:var(--purple);color:#fff;box-shadow:0 4px 14px rgba(139,127,255,.4)}
.auth-sep{display:flex;align-items:center;gap:10px;margin:18px 0}
.auth-sep span{font-size:11px;color:var(--txt3);white-space:nowrap}
.auth-sep::before,.auth-sep::after{content:'';flex:1;height:1px;background:var(--bdr)}
.goog-btn{width:100%;padding:13px;border-radius:var(--r2);border:1px solid var(--bdr);background:var(--card);color:var(--txt);font-size:14px;font-weight:700;cursor:pointer;transition:var(--t);display:flex;align-items:center;justify-content:center;gap:10px}
.goog-btn:hover{border-color:var(--purple);background:var(--pdim)}
.goog-btn svg{width:20px;height:20px}
.auth-err{font-size:12px;color:var(--red);font-weight:700;margin-top:-8px;margin-bottom:10px;min-height:16px}
/* ‚ïê‚ïê SYNC INDICATOR ‚ïê‚ïê */
.sync-badge{position:fixed;bottom:76px;left:max(14px,calc(50% - 215px + 14px));background:var(--bg2);border:1px solid var(--bdr);border-radius:20px;padding:5px 10px;font-size:10px;font-weight:700;color:var(--txt3);display:flex;align-items:center;gap:5px;z-index:200;opacity:0;transition:opacity .3s;pointer-events:none}
.sync-badge.show{opacity:1}
.sync-dot{width:6px;height:6px;border-radius:50%;background:var(--green)}
.sync-dot.spin{background:var(--orange);animation:pulse 1s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
/* ‚ïê‚ïê USER CHIP IN HEADER ‚ïê‚ïê */
.user-chip{display:flex;align-items:center;gap:6px;padding:4px 8px 4px 4px;border-radius:20px;background:var(--pdim);border:1px solid rgba(139,127,255,.3);cursor:pointer;transition:var(--t)}
.user-chip:hover{border-color:var(--purple)}
.user-chip img{width:24px;height:24px;border-radius:50%;object-fit:cover}
.user-chip .u-initial{width:24px;height:24px;border-radius:50%;background:var(--gm);display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:800;color:#fff}
.user-chip .u-name{font-size:11px;font-weight:700;color:var(--purple);max-width:80px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
/* ‚ïê‚ïê CONFIG SCREEN ‚ïê‚ïê */
#configScreen{position:fixed;inset:0;z-index:10000;background:var(--bg);display:none;flex-direction:column;align-items:center;justify-content:flex-start;padding:40px 24px 24px;overflow-y:auto}
#configScreen.show{display:flex}
#configScreen h1{font-family:'Outfit',sans-serif;font-size:28px;font-weight:900;background:var(--gm);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:8px;text-align:center}
#configScreen .cfg-sub{font-size:13px;color:var(--txt2);text-align:center;margin-bottom:28px;line-height:1.6}
.cfg-card{width:100%;max-width:420px;background:var(--card);border:1px solid var(--bdr);border-radius:var(--r1);padding:22px;margin-bottom:14px}
.cfg-card h3{font-size:14px;font-weight:800;margin-bottom:4px;color:var(--txt)}
.cfg-card p{font-size:11px;color:var(--txt3);margin-bottom:16px;line-height:1.5}
.cfg-step{display:flex;align-items:center;gap:10px;margin-bottom:10px;font-size:12px;color:var(--txt2)}
.cfg-step .sn{width:22px;height:22px;border-radius:50%;background:var(--gm);color:#fff;font-size:10px;font-weight:800;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.cfg-fields{display:grid;gap:10px;margin-top:14px}
.cfg-fi{width:100%;background:var(--bg2);border:1px solid var(--bdr);border-radius:var(--r3);padding:10px 12px;color:var(--txt);font-size:12px;font-family:monospace;outline:none;transition:var(--t)}
.cfg-fi:focus{border-color:var(--purple)}
.cfg-fi::placeholder{color:var(--txt3);font-family:'Plus Jakarta Sans',sans-serif}
.cfg-save-btn{width:100%;max-width:420px;padding:14px;background:var(--gm);border:none;border-radius:var(--r2);color:#fff;font-family:'Outfit',sans-serif;font-size:16px;font-weight:800;cursor:pointer;box-shadow:0 8px 28px rgba(139,127,255,.4);transition:var(--t)}
.cfg-save-btn:hover{transform:translateY(-2px)}
.cfg-link{font-size:12px;color:var(--purple);text-decoration:none;font-weight:700}
</style>
</head>
<body>

<!-- TOAST -->
<div id="toast"><span class="material-icons-round" id="tIco">check_circle</span><span id="tMsg">Done!</span></div>

<!-- ‚ïê‚ïê FIREBASE CONFIG SETUP SCREEN ‚ïê‚ïê -->
<div id="configScreen" style="display:none!important"></div>

<!-- ‚ïê‚ïê AUTH SCREEN ‚ïê‚ïê -->
<div id="authScreen" style="display:none">
  <div class="auth-logo">MyKharcha</div>
  <div class="auth-sub">Smart Expense Tracker ‚Äì Cloud Sync ke saath</div>
  <div class="auth-card">
    <h2>üëã Swagat Hai!</h2>
    <div class="auth-desc">Login karein ya account banayein ‚Äì data sab devices pe sync hoga</div>
    <div class="auth-tabs">
      <div class="auth-tab on" id="tabLogin" onclick="switchAuthTab('login')">Login</div>
      <div class="auth-tab" id="tabSignup" onclick="switchAuthTab('signup')">Register</div>
    </div>
    <!-- Email/Password Form -->
    <div class="fg"><label class="fl">Email</label><input type="email" class="fi" id="authEmail" placeholder="aap@example.com"></div>
    <div class="fg" style="margin-top:10px"><label class="fl">Password</label><input type="password" class="fi" id="authPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></div>
    <div class="fg" style="margin-top:10px;display:none" id="authNameWrap"><label class="fl">Aapka Naam</label><input class="fi" id="authName" placeholder="Ram Kumar"></div>
    <div class="auth-err" id="authErr"></div>
    <button class="sbtn" id="authSubmitBtn" onclick="doEmailAuth()" style="margin-top:4px">Login</button>
    <div class="auth-sep"><span>ya</span></div>
    <button class="goog-btn" onclick="doGoogleLogin()">
      <svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
      Google se Login Karein
    </button>
  </div>
</div>

<!-- ‚ïê‚ïê SYNC BADGE ‚ïê‚ïê -->
<div class="sync-badge" id="syncBadge">
  <div class="sync-dot" id="syncDot"></div>
  <span id="syncTxt">Synced</span>
</div>

<!-- LOCK SCREEN (PIN only) -->
<div id="lkscr" style="display:none">
  <div class="lklogo">MyKharcha</div>
  <div class="lksub">üîí Enter your PIN</div>
  <div class="lkmeths">
    <div class="pdots"><div class="pd" id="pd0"></div><div class="pd" id="pd1"></div><div class="pd" id="pd2"></div><div class="pd" id="pd3"></div></div>
    <div class="pinerr" id="pinerr"></div>
    <div class="numpad" id="numpad"></div>
  </div>
</div>

<!-- APP -->
<div id="app">

  <!-- TOP BANNER AD -->
  <div class="ad-banner" id="topBannerAd">
    <!-- Banner 320x50 Ad -->
    <script>
      atOptions = {
        'key' : 'f5788d1192488a743d4d3fc525c70a11',
        'format' : 'iframe',
        'height' : 50,
        'width' : 320,
        'params' : {}
      };
    </script>
    <script src="https://www.highperformanceformat.com/f5788d1192488a743d4d3fc525c70a11/invoke.js"></script>
  </div>

  <!-- HEADER -->
  <header class="hdr">
    <div class="hdr-brand">
      <div class="logo">MyKharcha</div>
      <div class="sub" id="hdrDate">Loading...</div>
    </div>
    <div class="hdr-acts">
      <div class="user-chip" id="userChip" style="display:none" onclick="showUserMenu()">
        <div class="u-initial" id="userInitial">U</div>
        <span class="u-name" id="userName">User</span>
      </div>
      <button class="hbtn" onclick="switchPg('bills')" title="Bill Reminders">
        <span class="material-icons-round">notifications</span>
        <span class="dot" id="notifDot"></span>
      </button>
      <button class="hbtn" onclick="toggleTheme()" title="Theme">
        <span class="material-icons-round" id="thIco">light_mode</span>
      </button>
      <button class="hbtn" onclick="openM('addModal')">
        <span class="material-icons-round">add</span>
      </button>
    </div>
  </header>

  <!-- ‚ïê‚ïê‚ïê DASHBOARD ‚ïê‚ïê‚ïê -->
  <div id="pg-dash" class="page active">
    <div class="pg">
      <div id="installBanner" class="ibanner" style="display:none">
        <span class="material-icons-round">install_mobile</span>
        <div class="ibinfo"><h4 data-i18n="install_title">Install MyKharcha</h4><p data-i18n="install_sub">Home screen pe add karein</p></div>
        <button class="ibbtn" onclick="doInstall()" data-i18n="install_btn">Install</button>
      </div>
      <!-- Hero -->
      <div class="hero">
        <div class="hl" data-i18n="hero_label">Is Mahine ka Balance</div>
        <div class="ha" id="heroAmt">‚Çπ0</div>
        <div class="hs" id="heroSub">Amdani ‚àí Kharcha</div>
        <div class="hero-row">
          <div class="hstat"><div class="sl" data-i18n="today">Aaj</div><div class="sv" id="todayAmt">‚Çπ0</div></div>
          <div class="hstat"><div class="sl" data-i18n="month">Mahina</div><div class="sv" id="monthAmt">‚Çπ0</div></div>
          <div class="hstat"><div class="sl">Txns</div><div class="sv" id="txnCnt">0</div></div>
        </div>
        <div class="lstrip" id="lstrip" style="display:none">
          <div class="lrow"><span data-i18n="daily_limit">Daily Limit</span><span id="ltxt"></span></div>
          <div class="ltrack"><div class="lfill" id="lfill"></div></div>
        </div>
      </div>
      <!-- Income / Savings -->
      <div class="sgrid">
        <div class="smini inc">
          <div class="ico"><span class="material-icons-round">trending_up</span></div>
          <div class="lbl" data-i18n="income">Amdani</div><div class="val" id="incAmt">‚Çπ0</div>
        </div>
        <div class="smini sav">
          <div class="ico"><span class="material-icons-round">savings</span></div>
          <div class="lbl" data-i18n="savings">Bachat</div><div class="val" id="savAmt">‚Çπ0</div>
        </div>
      </div>
      <!-- Upcoming Bills -->
      <div id="dashBillsWrap" style="display:none">
        <div class="sh"><h2>üìÖ <span data-i18n="upcoming_bills">Aane Wale Bills</span></h2><span class="sa" onclick="switchPg('bills')" data-i18n="see_all">Sab Dekho ‚Üí</span></div>
        <div id="dashBillsList"></div>
      </div>
      <!-- Categories -->
      <div class="card cp">
        <div class="sh"><h2 data-i18n="categories">Categories</h2><span class="sa" onclick="switchPg('reports')" data-i18n="report_arrow">Report ‚Üí</span></div>
        <div class="clist" id="catSummary"></div>
      </div>
      <!-- Recent -->
      <div>
        <div class="sh"><h2 data-i18n="recent_txns">Recent Transactions</h2><span class="sa" onclick="switchPg('history')" data-i18n="see_all">Sab Dekho ‚Üí</span></div>
        <div class="tlist" id="recentTxns"></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê HISTORY ‚ïê‚ïê‚ïê -->
  <div id="pg-history" class="page">
    <div class="pg">
      <div class="swrap">
        <span class="material-icons-round">search</span>
        <input class="sbar" id="searchInp" placeholder="Note se search karein..." oninput="renderHistory()">
      </div>
      <div class="fscroll" id="catFilters"></div>
      <div class="drow">
        <input type="date" class="fi" id="dateFilter" onchange="renderHistory()">
        <button class="cbtn" onclick="clearDateFilter()" data-i18n="clear">Clear</button>
      </div>
      <div id="histContent"></div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê REPORTS ‚ïê‚ïê‚ïê -->
  <div id="pg-reports" class="page">
    <div class="pg">
      <div class="mnav">
        <button class="mbtn" onclick="chgMonth(-1)" data-i18n="prev_month">‚Äπ Pichla</button>
        <div class="mtit" id="rMonthTitle"></div>
        <button class="mbtn" onclick="chgMonth(1)" data-i18n="next_month">Agla ‚Ä∫</button>
      </div>
      <div class="ccard"><h3>üìä <span data-i18n="six_month">6 Mahine ka Kharcha</span></h3><div class="cbox"><canvas id="barChart"></canvas></div></div>
      <div class="ccard"><h3>üç© <span data-i18n="cat_breakdown">Category Breakdown</span></h3><div class="cbox"><canvas id="pieChart"></canvas></div></div>
      <div class="ccard"><h3>üìà <span data-i18n="daily_trend">Daily Trend</span></h3><div class="cbox"><canvas id="lineChart"></canvas></div></div>
      <div class="card cp">
        <div class="sh"><h2 data-i18n="export_backup">Export & Backup</h2></div>
        <div class="egrid">
          <button class="ebtn" onclick="exportPDF()"><span class="material-icons-round">picture_as_pdf</span>PDF Export</button>
          <button class="ebtn" onclick="exportXLSX()"><span class="material-icons-round">table_chart</span>Excel Export</button>
          <button class="ebtn" onclick="doBackup()"><span class="material-icons-round">backup</span>Backup JSON</button>
          <button class="ebtn" onclick="document.getElementById('restoreInp').click()"><span class="material-icons-round">restore</span>Restore Data</button>
        </div>
        <input type="file" id="restoreInp" accept=".json" style="display:none" onchange="doRestore(event)">
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê BILLS ‚ïê‚ïê‚ïê -->
  <div id="pg-bills" class="page">
    <div class="pg">
      <div class="sh"><h2>üìÖ <span data-i18n="bill_reminders">Bill Reminders</span></h2><span class="sa" onclick="openM('billModal')" data-i18n="add_bill">+ Add Bill</span></div>
      <div class="fscroll" id="billFilters">
        <div class="fc on" data-bf="all" onclick="setBF(this)" data-i18n="all">Sab</div>
        <div class="fc" data-bf="today" onclick="setBF(this)">üî¥ <span data-i18n="today_due">Aaj Due</span></div>
        <div class="fc" data-bf="week" onclick="setBF(this)">üü† <span data-i18n="this_week">Is Hafte</span></div>
        <div class="fc" data-bf="unpaid" onclick="setBF(this)">‚è≥ <span data-i18n="unpaid">Unpaid</span></div>
        <div class="fc" data-bf="paid" onclick="setBF(this)">‚úÖ <span data-i18n="paid">Paid</span></div>
      </div>
      <div id="billsList"></div>
      <div class="divider"></div>
      <div class="sh"><h2>üí≥ <span data-i18n="emi_tracker">EMI / Loan Tracker</span></h2><span class="sa" onclick="openM('emiModal')" data-i18n="add_emi">+ Add EMI</span></div>
      <div id="emiList"></div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê BUDGET ‚ïê‚ïê‚ïê -->
  <div id="pg-budget" class="page">
    <div class="pg">
      <div class="mnav">
        <button class="mbtn" onclick="chgBMonth(-1)" data-i18n="prev_month">‚Äπ Pichla</button>
        <div class="mtit" id="budgetMonthTitle"></div>
        <button class="mbtn" onclick="chgBMonth(1)" data-i18n="next_month">Agla ‚Ä∫</button>
      </div>
      <div class="bhero">
        <div class="bhl" data-i18n="monthly_budget">Monthly Budget Overview</div>
        <div class="bha" id="budgetTotal">‚Çπ0</div>
        <div class="bhs" id="budgetSub">Koi budget set nahi</div>
        <div class="bhrow">
          <div class="bhitem"><div class="bi" data-i18n="spent">Kharca</div><div class="bv" id="budgetSpent">‚Çπ0</div></div>
          <div class="bhitem"><div class="bi" data-i18n="left">Baki</div><div class="bv" id="budgetLeft">‚Çπ0</div></div>
          <div class="bhitem"><div class="bi" data-i18n="usage">Upyog</div><div class="bv" id="budgetPct">0%</div></div>
        </div>
      </div>
      <div class="card cp">
        <div class="sh"><h2 data-i18n="cat_budgets">Category Budgets</h2><span class="sa" onclick="openM('budgetEditModal')" data-i18n="edit_budgets">Edit Budgets</span></div>
        <div class="bclist" id="budgetCatList"></div>
      </div>
      <div class="ccard"><h3>üìä <span data-i18n="budget_vs_actual">Budget vs Actual</span></h3><div class="cbox"><canvas id="budgetChart"></canvas></div></div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê SETTINGS ‚ïê‚ïê‚ïê -->
  <div id="pg-settings" class="page">
    <div class="pg">

      <!-- LANGUAGE SELECTOR -->
      <div class="sgt" data-i18n="language">Language / ‡§≠‡§æ‡§∑‡§æ</div>
      <div class="lang-grid">
        <button class="lang-btn" data-lang="en" onclick="setLang('en')">
          <span class="lflag">üá¨üáß</span>
          <span class="lname">English</span>
        </button>
        <button class="lang-btn" data-lang="hi" onclick="setLang('hi')">
          <span class="lflag">üáÆüá≥</span>
          <span class="lname">‡§π‡§ø‡§Ç‡§¶‡•Ä</span>
        </button>
        <button class="lang-btn" data-lang="mr" onclick="setLang('mr')">
          <span class="lflag">üáÆüá≥</span>
          <span class="lname">‡§Æ‡§∞‡§æ‡§†‡•Ä</span>
        </button>
        <button class="lang-btn" data-lang="ur" onclick="setLang('ur')">
          <span class="lflag">üáµüá∞</span>
          <span class="lname">ÿßÿ±ÿØŸà</span>
        </button>
        <button class="lang-btn" data-lang="ta" onclick="setLang('ta')">
          <span class="lflag">üáÆüá≥</span>
          <span class="lname">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</span>
        </button>
      </div>

      <div class="sgt" data-i18n="preferences">Preferences</div>

      <!-- ‚ú® COLOR THEME PICKER -->
      <div class="card cp color-theme-section">
        <div class="sh" style="margin-bottom:14px">
          <h2 style="font-size:14px">üé® App Theme Color</h2>
          <span style="font-size:10px;color:var(--txt3)">Apna rang chunein</span>
        </div>
        <div class="color-themes-grid" id="colorThemeGrid">
          <div class="ct-card" data-color="purple" onclick="applyColorTheme('purple')">
            <div class="ct-swatch" style="background:linear-gradient(135deg,#8b7fff,#4db8ff)"></div>
            <span class="ct-name">Purple</span>
          </div>
          <div class="ct-card" data-color="pink" onclick="applyColorTheme('pink')">
            <div class="ct-swatch" style="background:linear-gradient(135deg,#ff6bda,#ff8fab)"></div>
            <span class="ct-name">Pink</span>
          </div>
          <div class="ct-card" data-color="blue" onclick="applyColorTheme('blue')">
            <div class="ct-swatch" style="background:linear-gradient(135deg,#4db8ff,#38f0e8)"></div>
            <span class="ct-name">Blue</span>
          </div>
          <div class="ct-card" data-color="green" onclick="applyColorTheme('green')">
            <div class="ct-swatch" style="background:linear-gradient(135deg,#4dffb8,#4db8ff)"></div>
            <span class="ct-name">Green</span>
          </div>
          <div class="ct-card" data-color="orange" onclick="applyColorTheme('orange')">
            <div class="ct-swatch" style="background:linear-gradient(135deg,#ffaa4d,#ff6b6b)"></div>
            <span class="ct-name">Orange</span>
          </div>
        </div>

        <!-- Dark / Light toggle -->
        <div style="margin-top:14px;padding-top:12px;border-top:1px solid var(--bdr)">
          <div style="font-size:10px;font-weight:700;color:var(--txt3);text-transform:uppercase;letter-spacing:.6px;margin-bottom:10px">Mode</div>
          <div class="mode-row">
            <button class="mode-btn" id="modeDark" onclick="applyTheme('dark')">
              <span class="material-icons-round">dark_mode</span> Dark
            </button>
            <button class="mode-btn" id="modeLight" onclick="applyTheme('light')">
              <span class="material-icons-round">light_mode</span> Light
            </button>
          </div>
        </div>
      </div>

      <!-- Old dark/light toggle (hidden, kept for compatibility) -->
      <div style="display:none">
        <button class="tgl" id="tglTheme" onclick="toggleTheme()"></button>
      </div>

      <div class="sgt" data-i18n="daily_limit_setting">Daily Spending Limit</div>
      <div class="si" onclick="tglLimit()">
        <div class="sico" style="background:var(--odim)"><span class="material-icons-round" style="color:var(--orange)">notifications_active</span></div>
        <div class="sinf"><h4 data-i18n="daily_limit_alert">Daily Limit Alert</h4><p id="limitStTxt" data-i18n="not_set">Set nahi hua</p></div>
        <button class="tgl" id="tglLimit" onclick="event.stopPropagation();tglLimit()"></button>
      </div>
      <div class="lform" id="limitForm" style="display:none">
        <label class="fl" data-i18n="daily_limit_rs">Daily Limit (‚Çπ)</label>
        <div class="linrow">
          <input class="linp" id="limitInp" type="number" min="1" placeholder="e.g. 500">
          <button class="svbtn" onclick="saveLimit()" data-i18n="save">Save</button>
        </div>
      </div>

      <div class="sgt">Security</div>
      <div class="si" onclick="openM('pinModal')">
        <div class="sico" style="background:var(--rdim)"><span class="material-icons-round" style="color:var(--red)">lock</span></div>
        <div class="sinf"><h4>PIN Lock</h4><p id="pinStTxt">Disabled</p></div>
        <button class="tgl" id="tglPin" onclick="event.stopPropagation();openM('pinModal')"></button>
      </div>

      <div class="sgt" data-i18n="savings_goals">Savings Goals</div>
      <div id="goalsList"></div>
      <button class="agbtn" onclick="openM('goalModal')"><span class="material-icons-round">add_circle_outline</span><span data-i18n="add_new_goal">New Goal Add Karein</span></button>

      <div class="sgt" style="margin-top:14px" data-i18n="data_mgmt">Data Management</div>
      <div class="si" onclick="clearAllData()">
        <div class="sico" style="background:var(--rdim)"><span class="material-icons-round" style="color:var(--red)">delete_forever</span></div>
        <div class="sinf"><h4 data-i18n="delete_all">Sab Data Delete Karein</h4><p data-i18n="delete_warning">Permanently remove karta hai</p></div>
        <span class="material-icons-round" style="color:var(--txt3);font-size:18px">chevron_right</span>
      </div>

      <!-- FIREBASE ACCOUNT -->
      <div class="sgt" style="margin-top:14px">‚òÅÔ∏è Cloud Account</div>
      <div class="si" id="fbAccountRow">
        <div class="sico" style="background:rgba(77,184,255,.12)"><span class="material-icons-round" style="color:var(--blue)">cloud</span></div>
        <div class="sinf"><h4 id="fbAccName">Loading...</h4><p id="fbAccEmail">Firebase sync</p></div>
        <button class="cbtn" id="fbLogoutBtn" onclick="doLogout()" style="font-size:11px;padding:6px 10px">Logout</button>
      </div>
      <div class="si" style="cursor:default;margin-top:8px">
        <div class="sico" style="background:rgba(139,127,255,.12)"><span class="material-icons-round" style="color:var(--purple)">sync</span></div>
        <div class="sinf"><h4>Manual Sync</h4><p>Data abhi Firestore se refresh karo</p></div>
        <button class="cbtn" onclick="manualSync()" style="font-size:11px;padding:6px 10px">Sync</button>
      </div>
    </div>
  </div>

  <!-- BOTTOM NAV -->
  <nav class="bnav">
    <button class="nbtn on" id="nb-dash" onclick="switchPg('dash')">
      <div class="niw"><span class="material-icons-round">home</span></div><span data-i18n="nav_home">Home</span>
    </button>
    <button class="nbtn" id="nb-history" onclick="switchPg('history')">
      <div class="niw"><span class="material-icons-round">history</span></div><span data-i18n="nav_history">History</span>
    </button>
    <button class="nbtn" id="nb-bills" onclick="switchPg('bills')">
      <div class="niw"><span class="material-icons-round">event_note</span></div><span data-i18n="nav_bills">Bills</span>
      <div class="rdot" id="billsDot"></div>
    </button>
    <button class="nbtn" id="nb-budget" onclick="switchPg('budget')">
      <div class="niw"><span class="material-icons-round">account_balance_wallet</span></div><span data-i18n="nav_budget">Budget</span>
    </button>
    <button class="nbtn" id="nb-settings" onclick="switchPg('settings')">
      <div class="niw"><span class="material-icons-round">tune</span></div><span data-i18n="nav_settings">Settings</span>
    </button>
  </nav>
</div>

<!-- FAB -->
<button class="fab" onclick="openM('addModal')"><span class="material-icons-round">add</span></button>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODALS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- ADD / EDIT TRANSACTION -->
<div class="ov" id="addModal">
  <div class="modal">
    <div class="mhdl"></div>
    <div class="mhdr">
      <h2 id="addMTitle" data-i18n="add_transaction">Transaction Add Karein</h2>
      <button class="mcls" onclick="closeM('addModal')"><span class="material-icons-round">close</span></button>
    </div>
    <div class="mbody">
      <div class="tg">
        <button class="tbtn ae" id="ttExp" onclick="setType('expense')"><span class="material-icons-round">arrow_upward</span><span data-i18n="expense">Kharcha</span></button>
        <button class="tbtn" id="ttInc" onclick="setType('income')"><span class="material-icons-round">arrow_downward</span><span data-i18n="income">Amdani</span></button>
      </div>
      <div class="fg">
        <div class="awrap"><span class="apfx">‚Çπ</span><input class="afi" id="amtInp" type="number" inputmode="decimal" min="0" placeholder="0"></div>
      </div>
      <div class="fg"><label class="fl" data-i18n="category">Category</label><div class="cwrap" id="catChips"></div></div>
      <div class="fr">
        <div class="fg"><label class="fl" data-i18n="date">Tarikh</label><input type="date" class="fi" id="dateInp"></div>
        <div class="fg"><label class="fl" data-i18n="time">Samay</label><input type="time" class="fi" id="timeInp"></div>
      </div>
      <div class="fg" id="payGrp">
        <label class="fl" data-i18n="payment_method">Payment Method</label>
        <div class="pwrap">
          <div class="pc sel" data-p="Cash" onclick="selPay(this)">üíµ Cash</div>
          <div class="pc" data-p="UPI" onclick="selPay(this)">üì± UPI</div>
          <div class="pc" data-p="Card" onclick="selPay(this)">üí≥ Card</div>
        </div>
      </div>
      <div class="fg"><label class="fl" data-i18n="note_optional">Note (optional)</label><textarea class="fta" id="noteInp" placeholder="Kisliye kharch kiya?"></textarea></div>
      <button class="sbtn" onclick="submitTxn()"><span id="subBtnTxt" data-i18n="add_expense">Kharcha Add Karein</span></button>
      <div class="mb"></div>
    </div>
  </div>
</div>

<!-- PIN LOCK SETTINGS -->
<div class="ov" id="pinModal">
  <div class="modal">
    <div class="mhdl"></div>
    <div class="mhdr"><h2>üîí PIN Lock</h2><button class="mcls" onclick="closeM('pinModal')"><span class="material-icons-round">close</span></button></div>
    <div class="mbody">
      <div style="background:var(--pdim);border:1px solid var(--purple);border-radius:12px;padding:13px;margin-bottom:16px;display:flex;align-items:center;gap:10px">
        <span class="material-icons-round" style="color:var(--purple);font-size:24px">lock</span>
        <div>
          <div style="font-size:13px;font-weight:700">Protect Your Data</div>
          <div style="font-size:11px;color:var(--txt3);margin-top:2px">Set a 4-digit PIN to lock the app</div>
        </div>
      </div>
      <div class="fg"><label class="fl">New 4-Digit PIN</label><input type="password" class="fi" id="pinA" maxlength="4" inputmode="numeric" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></div>
      <div class="fg"><label class="fl">Confirm PIN</label><input type="password" class="fi" id="pinB" maxlength="4" inputmode="numeric" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></div>
      <button class="sbtn" onclick="savePin()">Enable PIN Lock</button>
      <div id="disablePinDiv" style="display:none;margin-top:10px"><button class="sbtn dng" onclick="disablePin()">Remove PIN Lock</button></div>
      <div class="mb"></div>
    </div>
  </div>
</div>

<!-- GOAL MODAL -->
<div class="ov" id="goalModal">
  <div class="modal">
    <div class="mhdl"></div>
    <div class="mhdr"><h2 data-i18n="add_savings_goal">Savings Goal Add Karein</h2><button class="mcls" onclick="closeM('goalModal')"><span class="material-icons-round">close</span></button></div>
    <div class="mbody">
      <div class="fg"><label class="fl" data-i18n="goal_name">Goal ka Naam</label><input class="fi" id="gNameInp" placeholder="e.g. iPhone, Vacation, Bike"></div>
      <div class="fg"><label class="fl" data-i18n="target_amount">Target Amount (‚Çπ)</label><input type="number" class="fi" id="gTargetInp" placeholder="50000"></div>
      <div class="fg"><label class="fl" data-i18n="saved_so_far">Abhi Tak Bachaya (‚Çπ)</label><input type="number" class="fi" id="gSavedInp" placeholder="0"></div>
      <button class="sbtn" onclick="saveGoal()" data-i18n="add_goal">Goal Add Karein</button>
      <div class="mb"></div>
    </div>
  </div>
</div>

<!-- BILL MODAL -->
<div class="ov" id="billModal">
  <div class="modal">
    <div class="mhdl"></div>
    <div class="mhdr"><h2 id="billMTitle" data-i18n="add_bill_reminder">Bill Reminder Add Karein</h2><button class="mcls" onclick="closeM('billModal')"><span class="material-icons-round">close</span></button></div>
    <div class="mbody">
      <div class="fg"><label class="fl" data-i18n="bill_name">Bill ka Naam</label><input class="fi" id="bNameInp" placeholder="e.g. Electricity, Netflix, WiFi"></div>
      <div class="fg"><label class="fl" data-i18n="amount">Amount (‚Çπ)</label><input type="number" class="fi" id="bAmtInp" placeholder="500"></div>
      <div class="fr">
        <div class="fg"><label class="fl" data-i18n="due_date">Due Date</label><input type="date" class="fi" id="bDueInp"></div>
        <div class="fg"><label class="fl" data-i18n="category">Category</label>
          <select class="fs" id="bCatInp">
            <option value="bills">Bills</option><option value="recharge">Recharge</option>
            <option value="rent">Rent</option><option value="food">Food</option>
            <option value="shopping">Shopping</option><option value="other">Other</option>
          </select>
        </div>
      </div>
      <div class="fg"><label class="fl" data-i18n="repeat">Repeat</label>
        <select class="fs" id="bRepeatInp">
          <option value="none" data-i18n="one_time">Ek Baar</option><option value="monthly" data-i18n="monthly">Har Mahine</option>
          <option value="weekly" data-i18n="weekly">Har Hafte</option><option value="yearly" data-i18n="yearly">Har Saal</option>
        </select>
      </div>
      <div class="fg"><label class="fl" data-i18n="note_optional">Note (optional)</label><input class="fi" id="bNoteInp" placeholder="Account number, provider..."></div>
      <button class="sbtn" id="billSubmitBtn" onclick="saveBill()" data-i18n="add_bill_btn">Bill Reminder Add Karein</button>
      <div class="mb"></div>
    </div>
  </div>
</div>

<!-- EMI MODAL -->
<div class="ov" id="emiModal">
  <div class="modal">
    <div class="mhdl"></div>
    <div class="mhdr"><h2 id="emiMTitle" data-i18n="add_emi_loan">EMI / Loan Add Karein</h2><button class="mcls" onclick="closeM('emiModal')"><span class="material-icons-round">close</span></button></div>
    <div class="mbody">
      <div class="fg"><label class="fl" data-i18n="emi_name">Loan / EMI ka Naam</label><input class="fi" id="eNameInp" placeholder="e.g. Home Loan, Car EMI"></div>
      <div class="fg"><label class="fl" data-i18n="bank_lender">Bank / Lender</label><input class="fi" id="eBankInp" placeholder="e.g. SBI, HDFC, ICICI"></div>
      <div class="fr">
        <div class="fg"><label class="fl" data-i18n="total_amount">Total Amount (‚Çπ)</label><input type="number" class="fi" id="eTotalInp" placeholder="500000"></div>
        <div class="fg"><label class="fl" data-i18n="emi_month">EMI/Month (‚Çπ)</label><input type="number" class="fi" id="eEmiInp" placeholder="15000"></div>
      </div>
      <div class="fr">
        <div class="fg"><label class="fl" data-i18n="total_emis">Kul EMIs</label><input type="number" class="fi" id="eTotalEmiInp" placeholder="48"></div>
        <div class="fg"><label class="fl" data-i18n="emis_paid">EMIs Paid</label><input type="number" class="fi" id="ePaidInp" placeholder="12"></div>
      </div>
      <div class="fr">
        <div class="fg"><label class="fl" data-i18n="start_date">Start Date</label><input type="date" class="fi" id="eStartInp"></div>
        <div class="fg"><label class="fl" data-i18n="due_day">Due Day (1-28)</label><input type="number" class="fi" id="eDayInp" min="1" max="28" placeholder="5"></div>
      </div>
      <div class="fg"><label class="fl" data-i18n="interest_rate">Interest Rate (% p.a.)</label><input type="number" class="fi" id="eRateInp" placeholder="8.5" step="0.1"></div>
      <button class="sbtn" id="emiSubmitBtn" onclick="saveEmi()" data-i18n="add_emi_btn">EMI Add Karein</button>
      <div class="mb"></div>
    </div>
  </div>
</div>

<!-- WHATSAPP SHARE MODAL -->
<div class="ov" id="waModal">
  <div class="modal">
    <div class="mhdl"></div>
    <div class="mhdr"><h2 data-i18n="wa_share">WhatsApp Share</h2><button class="mcls" onclick="closeM('waModal')"><span class="material-icons-round">close</span></button></div>
    <div class="mbody">
      <div class="fg">
        <label class="fl" data-i18n="share_type">Share Type</label>
        <div class="cwrap">
          <div class="cc sel" data-wt="single" onclick="setWaType(this)" data-i18n="single_entry">Single Entry</div>
          <div class="cc" data-wt="today" onclick="setWaType(this)" data-i18n="today_summary">Aaj ka Summary</div>
          <div class="cc" data-wt="month" onclick="setWaType(this)" data-i18n="month_report">Month Report</div>
        </div>
      </div>
      <div class="wabox"><div class="wahdr" data-i18n="msg_preview">Message Preview</div><div class="wamsg" id="waPreview"></div></div>
      <button class="sbtn grn" onclick="doWaShare()"><span class="material-icons-round" style="vertical-align:middle;font-size:18px;margin-right:5px">send</span><span data-i18n="share_wa">WhatsApp pe Share Karein</span></button>
      <div class="mb"></div>
    </div>
  </div>
</div>

<!-- BUDGET EDIT MODAL -->
<div class="ov" id="budgetEditModal">
  <div class="modal">
    <div class="mhdl"></div>
    <div class="mhdr"><h2 data-i18n="set_cat_budgets">Category Budgets Set Karein</h2><button class="mcls" onclick="closeM('budgetEditModal')"><span class="material-icons-round">close</span></button></div>
    <div class="mbody">
      <div style="font-size:12px;color:var(--txt3);margin-bottom:13px" data-i18n="budget_hint">Har category ke liye monthly budget set karein (0 = koi limit nahi)</div>
      <div id="budgetInpsList"></div>
      <button class="sbtn" onclick="saveBudgets()" data-i18n="save_budgets">Budgets Save Karein</button>
      <div class="mb"></div>
    </div>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  MULTILANGUAGE STRINGS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const LANGS = {
  en: {
    hero_label:'This Month Balance', today:'Today', month:'Month',
    daily_limit:'Daily Limit', income:'Income', savings:'Savings',
    upcoming_bills:'Upcoming Bills', see_all:'See All ‚Üí', categories:'Categories',
    report_arrow:'Report ‚Üí', recent_txns:'Recent Transactions',
    prev_month:'‚Äπ Prev', next_month:'Next ‚Ä∫', six_month:'6 Month Expenses',
    cat_breakdown:'Category Breakdown', daily_trend:'Daily Trend',
    export_backup:'Export & Backup', bill_reminders:'Bill Reminders',
    add_bill:'+ Add Bill', all:'All', today_due:'Today Due', this_week:'This Week',
    unpaid:'Unpaid', paid:'Paid', emi_tracker:'EMI / Loan Tracker', add_emi:'+ Add EMI',
    monthly_budget:'Monthly Budget Overview', spent:'Spent', left:'Remaining', usage:'Usage',
    cat_budgets:'Category Budgets', edit_budgets:'Edit Budgets', budget_vs_actual:'Budget vs Actual',
    language:'Language', preferences:'Preferences', dark_light:'Dark / Light Mode',
    change_theme:'Toggle app theme', daily_limit_setting:'Daily Spending Limit',
    daily_limit_alert:'Daily Limit Alert', not_set:'Not set', daily_limit_rs:'Daily Limit (‚Çπ)',
    save:'Save', security:'Security', pin_lock:'Fingerprint / PIN Lock',
    savings_goals:'Savings Goals', add_new_goal:'Add New Goal', data_mgmt:'Data Management',
    delete_all:'Delete All Data', delete_warning:'Permanently removes everything',
    add_transaction:'Add Transaction', expense:'Expense', add_expense:'Add Expense',
    add_income:'Add Income', category:'Category', date:'Date', time:'Time',
    payment_method:'Payment Method', note_optional:'Note (optional)',
    app_lock:'App Lock', fp_face:'Fingerprint / Face ID', new_pin:'New 4-Digit PIN',
    confirm_pin:'Confirm PIN', enable_lock:'Enable Lock', disable_lock:'Disable Lock',
    add_savings_goal:'Add Savings Goal', goal_name:'Goal Name', target_amount:'Target Amount (‚Çπ)',
    saved_so_far:'Saved So Far (‚Çπ)', add_goal:'Add Goal',
    add_bill_reminder:'Add Bill Reminder', bill_name:'Bill Name', amount:'Amount (‚Çπ)',
    due_date:'Due Date', repeat:'Repeat', one_time:'One Time', monthly:'Monthly',
    weekly:'Weekly', yearly:'Yearly', add_bill_btn:'Add Bill Reminder',
    add_emi_loan:'Add EMI / Loan', emi_name:'Loan / EMI Name', bank_lender:'Bank / Lender',
    total_amount:'Total Amount (‚Çπ)', emi_month:'EMI/Month (‚Çπ)', total_emis:'Total EMIs',
    emis_paid:'EMIs Paid', start_date:'Start Date', due_day:'Due Day (1-28)',
    interest_rate:'Interest Rate (% p.a.)', add_emi_btn:'Add EMI',
    wa_share:'WhatsApp Share', share_type:'Share Type', single_entry:'Single Entry',
    today_summary:"Today's Summary", month_report:'Month Report', msg_preview:'Message Preview',
    share_wa:'Share on WhatsApp', set_cat_budgets:'Set Category Budgets',
    budget_hint:'Set monthly budget for each category (0 = no limit)',
    save_budgets:'Save Budgets', install_title:'Install MyKharcha',
    install_sub:'Add to home screen', install_btn:'Install',
    nav_home:'Home', nav_history:'History', nav_bills:'Bills',
    nav_budget:'Budget', nav_settings:'Settings', clear:'Clear',
    no_txn_title:'No Transactions', no_txn_sub:'Tap + to add your first entry',
    surplus_label:'‚ñ≤ Monthly surplus', deficit_label:'‚ñº Monthly deficit',
    no_data:'No Data This Month',
  },
  hi: {
    hero_label:'‡§á‡§∏ ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡§æ ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏', today:'‡§Ü‡§ú', month:'‡§Æ‡§π‡•Ä‡§®‡§æ',
    daily_limit:'‡§¶‡•à‡§®‡§ø‡§ï ‡§∏‡•Ä‡§Æ‡§æ', income:'‡§Ü‡§Æ‡§¶‡§®‡•Ä', savings:'‡§¨‡§ö‡§§',
    upcoming_bills:'‡§Ü‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§¨‡§ø‡§≤', see_all:'‡§∏‡§¨ ‡§¶‡•á‡§ñ‡•ã ‚Üí', categories:'‡§∂‡•ç‡§∞‡•á‡§£‡§ø‡§Ø‡§æ‡§Å',
    report_arrow:'‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‚Üí', recent_txns:'‡§π‡§æ‡§≤‡§ø‡§Ø‡§æ ‡§≤‡•á‡§®‡§¶‡•á‡§®',
    prev_month:'‚Äπ ‡§™‡§ø‡§õ‡§≤‡§æ', next_month:'‡§Ö‡§ó‡§≤‡§æ ‚Ä∫', six_month:'6 ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡§æ ‡§ñ‡§∞‡•ç‡§ö‡§æ',
    cat_breakdown:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£', daily_trend:'‡§¶‡•à‡§®‡§ø‡§ï ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°',
    export_backup:'‡§è‡§ï‡•ç‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§î‡§∞ ‡§¨‡•à‡§ï‡§Ö‡§™', bill_reminders:'‡§¨‡§ø‡§≤ ‡§∞‡§ø‡§Æ‡§æ‡§á‡§Ç‡§°‡§∞',
    add_bill:'+ ‡§¨‡§ø‡§≤ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', all:'‡§∏‡§¨', today_due:'‡§Ü‡§ú ‡§¶‡•á‡§Ø', this_week:'‡§á‡§∏ ‡§π‡§´‡•ç‡§§‡•á',
    unpaid:'‡§Ö‡§®‡§™‡•á‡§°', paid:'‡§™‡•á‡§°', emi_tracker:'EMI / ‡§≤‡•ã‡§® ‡§ü‡•ç‡§∞‡•à‡§ï‡§∞', add_emi:'+ EMI ‡§ú‡•ã‡§°‡§º‡•á‡§Ç',
    monthly_budget:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§¨‡§ú‡§ü', spent:'‡§ñ‡§∞‡•ç‡§ö', left:'‡§¨‡§æ‡§ï‡•Ä', usage:'‡§â‡§™‡§Ø‡•ã‡§ó',
    cat_budgets:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä ‡§¨‡§ú‡§ü', edit_budgets:'‡§¨‡§ú‡§ü ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç', budget_vs_actual:'‡§¨‡§ú‡§ü ‡§¨‡§®‡§æ‡§Æ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï',
    language:'‡§≠‡§æ‡§∑‡§æ', preferences:'‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï‡§§‡§æ‡§è‡§Ç', dark_light:'‡§°‡§æ‡§∞‡•ç‡§ï / ‡§≤‡§æ‡§á‡§ü ‡§Æ‡•ã‡§°',
    change_theme:'‡§ê‡§™ ‡§•‡•Ä‡§Æ ‡§¨‡§¶‡§≤‡•á‡§Ç', daily_limit_setting:'‡§¶‡•à‡§®‡§ø‡§ï ‡§ñ‡§∞‡•ç‡§ö ‡§∏‡•Ä‡§Æ‡§æ',
    daily_limit_alert:'‡§¶‡•à‡§®‡§ø‡§ï ‡§∏‡•Ä‡§Æ‡§æ ‡§Ö‡§≤‡§∞‡•ç‡§ü', not_set:'‡§∏‡•á‡§ü ‡§®‡§π‡•Ä‡§Ç', daily_limit_rs:'‡§¶‡•à‡§®‡§ø‡§ï ‡§∏‡•Ä‡§Æ‡§æ (‚Çπ)',
    save:'‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç', security:'‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ', pin_lock:'‡§´‡§ø‡§Ç‡§ó‡§∞‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü / PIN ‡§≤‡•â‡§ï',
    savings_goals:'‡§¨‡§ö‡§§ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø', add_new_goal:'‡§®‡§Ø‡§æ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', data_mgmt:'‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®',
    delete_all:'‡§∏‡§æ‡§∞‡§æ ‡§°‡•á‡§ü‡§æ ‡§π‡§ü‡§æ‡§è‡§Ç', delete_warning:'‡§∏‡•ç‡§•‡§æ‡§Ø‡•Ä ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§π‡§ü‡§æ‡§§‡§æ ‡§π‡•à',
    add_transaction:'‡§≤‡•á‡§®‡§¶‡•á‡§® ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', expense:'‡§ñ‡§∞‡•ç‡§ö‡§æ', add_expense:'‡§ñ‡§∞‡•ç‡§ö‡§æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç',
    add_income:'‡§Ü‡§Æ‡§¶‡§®‡•Ä ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', category:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä', date:'‡§§‡§æ‡§∞‡•Ä‡§ñ', time:'‡§∏‡§Æ‡§Ø',
    payment_method:'‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§µ‡§ø‡§ß‡§ø', note_optional:'‡§®‡•ã‡§ü (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)',
    app_lock:'‡§ê‡§™ ‡§≤‡•â‡§ï', fp_face:'‡§´‡§ø‡§Ç‡§ó‡§∞‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü / ‡§´‡•á‡§∏ ID', new_pin:'‡§®‡§Ø‡§æ 4-‡§Ö‡§Ç‡§ï PIN',
    confirm_pin:'PIN ‡§ï‡•Ä ‡§™‡•Å‡§∑‡•ç‡§ü‡§ø ‡§ï‡§∞‡•á‡§Ç', enable_lock:'‡§≤‡•â‡§ï ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§ï‡§∞‡•á‡§Ç', disable_lock:'‡§≤‡•â‡§ï ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç',
    add_savings_goal:'‡§¨‡§ö‡§§ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', goal_name:'‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ï‡§æ ‡§®‡§æ‡§Æ', target_amount:'‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§∞‡§æ‡§∂‡§ø (‚Çπ)',
    saved_so_far:'‡§Ö‡§≠‡•Ä ‡§§‡§ï ‡§¨‡§ö‡§æ‡§Ø‡§æ (‚Çπ)', add_goal:'‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ú‡•ã‡§°‡§º‡•á‡§Ç',
    add_bill_reminder:'‡§¨‡§ø‡§≤ ‡§∞‡§ø‡§Æ‡§æ‡§á‡§Ç‡§°‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', bill_name:'‡§¨‡§ø‡§≤ ‡§ï‡§æ ‡§®‡§æ‡§Æ', amount:'‡§∞‡§æ‡§∂‡§ø (‚Çπ)',
    due_date:'‡§¶‡•á‡§Ø ‡§§‡§æ‡§∞‡•Ä‡§ñ', repeat:'‡§¶‡•ã‡§π‡§∞‡§æ‡§è‡§Ç', one_time:'‡§è‡§ï ‡§¨‡§æ‡§∞', monthly:'‡§π‡§∞ ‡§Æ‡§π‡•Ä‡§®‡•á',
    weekly:'‡§π‡§∞ ‡§π‡§´‡•ç‡§§‡•á', yearly:'‡§π‡§∞ ‡§∏‡§æ‡§≤', add_bill_btn:'‡§¨‡§ø‡§≤ ‡§∞‡§ø‡§Æ‡§æ‡§á‡§Ç‡§°‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç',
    add_emi_loan:'EMI / ‡§≤‡•ã‡§® ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', emi_name:'‡§≤‡•ã‡§® / EMI ‡§ï‡§æ ‡§®‡§æ‡§Æ', bank_lender:'‡§¨‡•à‡§Ç‡§ï / ‡§ã‡§£‡§¶‡§æ‡§§‡§æ',
    total_amount:'‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø (‚Çπ)', emi_month:'EMI/‡§Æ‡§æ‡§π (‚Çπ)', total_emis:'‡§ï‡•Å‡§≤ EMI',
    emis_paid:'‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡•Ä EMI', start_date:'‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§ï‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ', due_day:'‡§¶‡•á‡§Ø ‡§¶‡§ø‡§® (1-28)',
    interest_rate:'‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞ (% ‡§™‡•ç‡§∞‡§§‡§ø ‡§µ‡§∞‡•ç‡§∑)', add_emi_btn:'EMI ‡§ú‡•ã‡§°‡§º‡•á‡§Ç',
    wa_share:'WhatsApp ‡§∂‡•á‡§Ø‡§∞', share_type:'‡§∂‡•á‡§Ø‡§∞ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞', single_entry:'‡§è‡§ï‡§≤ ‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü‡§ø',
    today_summary:'‡§Ü‡§ú ‡§ï‡§æ ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂', month_report:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü', msg_preview:'‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§µ‡§≤‡•ã‡§ï‡§®',
    share_wa:'WhatsApp ‡§™‡§∞ ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç', set_cat_budgets:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä ‡§¨‡§ú‡§ü ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç',
    budget_hint:'‡§π‡§∞ ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§¨‡§ú‡§ü ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç (0 = ‡§ï‡•ã‡§à ‡§∏‡•Ä‡§Æ‡§æ ‡§®‡§π‡•Ä‡§Ç)',
    save_budgets:'‡§¨‡§ú‡§ü ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç', install_title:'MyKharcha ‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç',
    install_sub:'‡§π‡•ã‡§Æ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§™‡§∞ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', install_btn:'‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤',
    nav_home:'‡§π‡•ã‡§Æ', nav_history:'‡§á‡§§‡§ø‡§π‡§æ‡§∏', nav_bills:'‡§¨‡§ø‡§≤',
    nav_budget:'‡§¨‡§ú‡§ü', nav_settings:'‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏', clear:'‡§∏‡§æ‡§´ ‡§ï‡§∞‡•á‡§Ç',
    no_txn_title:'‡§ï‡•ã‡§à ‡§≤‡•á‡§®‡§¶‡•á‡§® ‡§®‡§π‡•Ä‡§Ç', no_txn_sub:'+ ‡§¶‡§¨‡§æ‡§è‡§Ç ‡§™‡§π‡§≤‡§æ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è',
    surplus_label:'‚ñ≤ ‡§á‡§∏ ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡§æ ‡§Ö‡§ß‡§ø‡§∂‡•á‡§∑', deficit_label:'‚ñº ‡§á‡§∏ ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡§æ ‡§ò‡§æ‡§ü‡§æ',
    no_data:'‡§á‡§∏ ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡•ã‡§à ‡§°‡•á‡§ü‡§æ ‡§®‡§π‡•Ä‡§Ç',
  },
  mr: {
    hero_label:'‡§Ø‡§æ ‡§Æ‡§π‡§ø‡§®‡•ç‡§Ø‡§æ‡§ö‡•á ‡§¨‡•Ö‡§≤‡•á‡§®‡•ç‡§∏', today:'‡§Ü‡§ú', month:'‡§Æ‡§π‡§ø‡§®‡§æ',
    daily_limit:'‡§¶‡•à‡§®‡§ø‡§ï ‡§Æ‡§∞‡•ç‡§Ø‡§æ‡§¶‡§æ', income:'‡§â‡§§‡•ç‡§™‡§®‡•ç‡§®', savings:'‡§¨‡§ö‡§§',
    upcoming_bills:'‡§Ø‡•á‡§£‡§æ‡§∞‡•á ‡§¨‡§ø‡§≤', see_all:'‡§∏‡§∞‡•ç‡§µ ‡§™‡§π‡§æ ‚Üí', categories:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä',
    report_arrow:'‡§Ö‡§π‡§µ‡§æ‡§≤ ‚Üí', recent_txns:'‡§Ö‡§≤‡•Ä‡§ï‡§°‡•Ä‡§≤ ‡§µ‡•ç‡§Ø‡§µ‡§π‡§æ‡§∞',
    prev_month:'‚Äπ ‡§Æ‡§æ‡§ó‡•Ä‡§≤', next_month:'‡§™‡•Å‡§¢‡•Ä‡§≤ ‚Ä∫', six_month:'‡•¨ ‡§Æ‡§π‡§ø‡§®‡•ç‡§Ø‡§æ‡§Ç‡§ö‡§æ ‡§ñ‡§∞‡•ç‡§ö',
    cat_breakdown:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£', daily_trend:'‡§¶‡•à‡§®‡§ø‡§ï ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°',
    export_backup:'‡§è‡§ï‡•ç‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§Ü‡§£‡§ø ‡§¨‡•Ö‡§ï‡§Ö‡§™', bill_reminders:'‡§¨‡§ø‡§≤ ‡§∞‡§ø‡§Æ‡§æ‡§á‡§Ç‡§°‡§∞',
    add_bill:'+ ‡§¨‡§ø‡§≤ ‡§ú‡•ã‡§°‡§æ', all:'‡§∏‡§∞‡•ç‡§µ', today_due:'‡§Ü‡§ú ‡§¶‡•á‡§Ø', this_week:'‡§Ø‡§æ ‡§Ü‡§†‡§µ‡§°‡•ç‡§Ø‡§æ‡§§',
    unpaid:'‡§® ‡§≠‡§∞‡§≤‡•á‡§≤‡•á', paid:'‡§≠‡§∞‡§≤‡•á‡§≤‡•á', emi_tracker:'EMI / ‡§ï‡§∞‡•ç‡§ú ‡§ü‡•ç‡§∞‡•Ö‡§ï‡§∞', add_emi:'+ EMI ‡§ú‡•ã‡§°‡§æ',
    monthly_budget:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§¨‡§ú‡•á‡§ü', spent:'‡§ñ‡§∞‡•ç‡§ö', left:'‡§∂‡§ø‡§≤‡•ç‡§≤‡§ï', usage:'‡§µ‡§æ‡§™‡§∞',
    cat_budgets:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä ‡§¨‡§ú‡•á‡§ü', edit_budgets:'‡§¨‡§ú‡•á‡§ü ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§æ', budget_vs_actual:'‡§¨‡§ú‡•á‡§ü ‡§µ‡§ø. ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡§ï‡•ç‡§∑',
    language:'‡§≠‡§æ‡§∑‡§æ', preferences:'‡§™‡•ç‡§∞‡§æ‡§ß‡§æ‡§®‡•ç‡§Ø‡•á', dark_light:'‡§°‡§æ‡§∞‡•ç‡§ï / ‡§≤‡§æ‡§á‡§ü ‡§Æ‡•ã‡§°',
    change_theme:'‡§Ö‚Äç‡•Ö‡§™ ‡§•‡•Ä‡§Æ ‡§¨‡§¶‡§≤‡§æ', daily_limit_setting:'‡§¶‡•à‡§®‡§ø‡§ï ‡§ñ‡§∞‡•ç‡§ö ‡§Æ‡§∞‡•ç‡§Ø‡§æ‡§¶‡§æ',
    daily_limit_alert:'‡§¶‡•à‡§®‡§ø‡§ï ‡§Æ‡§∞‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§∏‡§§‡§∞‡•ç‡§ï‡§§‡§æ', not_set:'‡§∏‡•á‡§ü ‡§®‡§æ‡§π‡•Ä', daily_limit_rs:'‡§¶‡•à‡§®‡§ø‡§ï ‡§Æ‡§∞‡•ç‡§Ø‡§æ‡§¶‡§æ (‚Çπ)',
    save:'‡§ú‡§§‡§® ‡§ï‡§∞‡§æ', security:'‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ', pin_lock:'‡§´‡§ø‡§Ç‡§ó‡§∞‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü / PIN ‡§≤‡•â‡§ï',
    savings_goals:'‡§¨‡§ö‡§§ ‡§â‡§¶‡•ç‡§¶‡§ø‡§∑‡•ç‡§ü‡•á', add_new_goal:'‡§®‡§µ‡•Ä‡§® ‡§â‡§¶‡•ç‡§¶‡§ø‡§∑‡•ç‡§ü ‡§ú‡•ã‡§°‡§æ', data_mgmt:'‡§°‡•á‡§ü‡§æ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§®',
    delete_all:'‡§∏‡§∞‡•ç‡§µ ‡§°‡•á‡§ü‡§æ ‡§π‡§ü‡§µ‡§æ', delete_warning:'‡§ï‡§æ‡§Ø‡§Æ‡§ö‡•á ‡§ï‡§æ‡§¢‡•Ç‡§® ‡§ü‡§æ‡§ï‡§§‡•á',
    add_transaction:'‡§µ‡•ç‡§Ø‡§µ‡§π‡§æ‡§∞ ‡§ú‡•ã‡§°‡§æ', expense:'‡§ñ‡§∞‡•ç‡§ö', add_expense:'‡§ñ‡§∞‡•ç‡§ö ‡§ú‡•ã‡§°‡§æ',
    add_income:'‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§ú‡•ã‡§°‡§æ', category:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä', date:'‡§§‡§æ‡§∞‡•Ä‡§ñ', time:'‡§µ‡•á‡§≥',
    payment_method:'‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§™‡§¶‡•ç‡§ß‡§§', note_optional:'‡§®‡•ã‡§Ç‡§¶ (‡§™‡§∞‡•ç‡§Ø‡§æ‡§Ø‡•Ä)',
    app_lock:'‡§Ö‚Äç‡•Ö‡§™ ‡§≤‡•â‡§ï', fp_face:'‡§´‡§ø‡§Ç‡§ó‡§∞‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü / ‡§´‡•á‡§∏ ID', new_pin:'‡§®‡§µ‡•Ä‡§® ‡•™-‡§Ö‡§Ç‡§ï‡•Ä PIN',
    confirm_pin:'PIN ‡§™‡•Å‡§∑‡•ç‡§ü‡•Ä ‡§ï‡§∞‡§æ', enable_lock:'‡§≤‡•â‡§ï ‡§∏‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§æ', disable_lock:'‡§≤‡•â‡§ï ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§æ',
    add_savings_goal:'‡§¨‡§ö‡§§ ‡§â‡§¶‡•ç‡§¶‡§ø‡§∑‡•ç‡§ü ‡§ú‡•ã‡§°‡§æ', goal_name:'‡§â‡§¶‡•ç‡§¶‡§ø‡§∑‡•ç‡§ü‡§æ‡§ö‡•á ‡§®‡§æ‡§µ', target_amount:'‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§∞‡§ï‡•ç‡§ï‡§Æ (‚Çπ)',
    saved_so_far:'‡§Ü‡§§‡§æ‡§™‡§∞‡•ç‡§Ø‡§Ç‡§§ ‡§¨‡§ö‡§§ (‚Çπ)', add_goal:'‡§â‡§¶‡•ç‡§¶‡§ø‡§∑‡•ç‡§ü ‡§ú‡•ã‡§°‡§æ',
    add_bill_reminder:'‡§¨‡§ø‡§≤ ‡§∞‡§ø‡§Æ‡§æ‡§á‡§Ç‡§°‡§∞ ‡§ú‡•ã‡§°‡§æ', bill_name:'‡§¨‡§ø‡§≤‡§æ‡§ö‡•á ‡§®‡§æ‡§µ', amount:'‡§∞‡§ï‡•ç‡§ï‡§Æ (‚Çπ)',
    due_date:'‡§¶‡•á‡§Ø ‡§§‡§æ‡§∞‡•Ä‡§ñ', repeat:'‡§™‡•Å‡§®‡§∞‡§æ‡§µ‡•É‡§§‡•ç‡§§‡•Ä', one_time:'‡§è‡§ï‡§¶‡§æ', monthly:'‡§¶‡§∞ ‡§Æ‡§π‡§ø‡§®‡§æ',
    weekly:'‡§¶‡§∞ ‡§Ü‡§†‡§µ‡§°‡§æ', yearly:'‡§¶‡§∞ ‡§µ‡§∞‡•ç‡§∑‡•Ä', add_bill_btn:'‡§¨‡§ø‡§≤ ‡§∞‡§ø‡§Æ‡§æ‡§á‡§Ç‡§°‡§∞ ‡§ú‡•ã‡§°‡§æ',
    add_emi_loan:'EMI / ‡§ï‡§∞‡•ç‡§ú ‡§ú‡•ã‡§°‡§æ', emi_name:'‡§ï‡§∞‡•ç‡§ú / EMI ‡§ö‡•á ‡§®‡§æ‡§µ', bank_lender:'‡§¨‡§Å‡§ï / ‡§ï‡§∞‡•ç‡§ú‡§¶‡§æ‡§§‡§æ',
    total_amount:'‡§è‡§ï‡•Ç‡§£ ‡§∞‡§ï‡•ç‡§ï‡§Æ (‚Çπ)', emi_month:'EMI/‡§Æ‡§π‡§ø‡§®‡§æ (‚Çπ)', total_emis:'‡§è‡§ï‡•Ç‡§£ EMI',
    emis_paid:'‡§≠‡§∞‡§≤‡•á‡§≤‡•ç‡§Ø‡§æ EMI', start_date:'‡§∏‡•Å‡§∞‡•Å‡§µ‡§æ‡§§ ‡§§‡§æ‡§∞‡•Ä‡§ñ', due_day:'‡§¶‡•á‡§Ø ‡§¶‡§ø‡§µ‡§∏ (1-28)',
    interest_rate:'‡§µ‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞ (% ‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï)', add_emi_btn:'EMI ‡§ú‡•ã‡§°‡§æ',
    wa_share:'WhatsApp ‡§∂‡•á‡§Ö‡§∞', share_type:'‡§∂‡•á‡§Ö‡§∞ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞', single_entry:'‡§è‡§ï‡§≤ ‡§®‡•ã‡§Ç‡§¶',
    today_summary:'‡§Ü‡§ú‡§ö‡§æ ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂', month_report:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§Ö‡§π‡§µ‡§æ‡§≤', msg_preview:'‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§µ‡§≤‡•ã‡§ï‡§®',
    share_wa:'WhatsApp ‡§µ‡§∞ ‡§∂‡•á‡§Ö‡§∞ ‡§ï‡§∞‡§æ', set_cat_budgets:'‡§∂‡•ç‡§∞‡•á‡§£‡•Ä ‡§¨‡§ú‡•á‡§ü ‡§∏‡•á‡§ü ‡§ï‡§∞‡§æ',
    budget_hint:'‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä‡§∏‡§æ‡§†‡•Ä ‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§¨‡§ú‡•á‡§ü ‡§∏‡•á‡§ü ‡§ï‡§∞‡§æ (0 = ‡§ï‡•ã‡§£‡§§‡•Ä‡§π‡•Ä ‡§Æ‡§∞‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§®‡§æ‡§π‡•Ä)',
    save_budgets:'‡§¨‡§ú‡•á‡§ü ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ', install_title:'MyKharcha ‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤ ‡§ï‡§∞‡§æ',
    install_sub:'‡§π‡•ã‡§Æ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§®‡§µ‡§∞ ‡§ú‡•ã‡§°‡§æ', install_btn:'‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤',
    nav_home:'‡§π‡•ã‡§Æ', nav_history:'‡§á‡§§‡§ø‡§π‡§æ‡§∏', nav_bills:'‡§¨‡§ø‡§≤',
    nav_budget:'‡§¨‡§ú‡•á‡§ü', nav_settings:'‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§ú', clear:'‡§∏‡§æ‡§´ ‡§ï‡§∞‡§æ',
    no_txn_title:'‡§ï‡•ã‡§£‡§§‡•á‡§π‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§π‡§æ‡§∞ ‡§®‡§æ‡§π‡•Ä', no_txn_sub:'+ ‡§¶‡§æ‡§¨‡§æ ‡§™‡§π‡§ø‡§≤‡§æ ‡§ú‡•ã‡§°‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä',
    surplus_label:'‚ñ≤ ‡§Ø‡§æ ‡§Æ‡§π‡§ø‡§®‡•ç‡§Ø‡§æ‡§ö‡•á ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§', deficit_label:'‚ñº ‡§Ø‡§æ ‡§Æ‡§π‡§ø‡§®‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§§‡•Ç‡§ü',
    no_data:'‡§Ø‡§æ ‡§Æ‡§π‡§ø‡§®‡•ç‡§Ø‡§æ‡§§ ‡§ï‡•ã‡§£‡§§‡§æ‡§π‡•Ä ‡§°‡•á‡§ü‡§æ ‡§®‡§æ‡§π‡•Ä',
  },
  ur: {
    hero_label:'ÿßÿ≥ ŸÖ€Å€åŸÜ€í ⁄©ÿß ÿ®€åŸÑŸÜÿ≥', today:'ÿ¢ÿ¨', month:'ŸÖ€Å€åŸÜ€Å',
    daily_limit:'ÿ±Ÿàÿ≤ÿßŸÜ€Å ÿ≠ÿØ', income:'ÿ¢ŸÖÿØŸÜ€å', savings:'ÿ®⁄Üÿ™',
    upcoming_bills:'ÿ¢ŸÜ€í ŸàÿßŸÑ€í ÿ®ŸÑ', see_all:'ÿ≥ÿ® ÿØ€å⁄©⁄æŸà ‚Üê', categories:'ÿßŸÇÿ≥ÿßŸÖ',
    report_arrow:'ÿ±ŸæŸàÿ±Ÿπ ‚Üê', recent_txns:'ÿ≠ÿßŸÑ€å€Å ŸÑ€åŸÜ ÿØ€åŸÜ',
    prev_month:'Ÿæ⁄Ü⁄æŸÑÿß ‚Ä∫', next_month:'‚Äπ ÿß⁄ØŸÑÿß', six_month:'€∂ ŸÖÿß€Å ⁄©ÿß ÿÆÿ±⁄Ü',
    cat_breakdown:'ÿ≤ŸÖÿ±€Å ÿ™ÿ¨ÿ≤€å€Å', daily_trend:'ÿ±Ÿàÿ≤ÿßŸÜ€Å ÿ±ÿ¨ÿ≠ÿßŸÜ',
    export_backup:'ÿß€å⁄©ÿ≥ŸæŸàÿ±Ÿπ ÿßŸàÿ± ÿ®€å⁄© ÿßŸæ', bill_reminders:'ÿ®ŸÑ €åÿßÿØÿØ€ÅÿßŸÜ€å',
    add_bill:'+ ÿ®ŸÑ ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫', all:'ÿ≥ÿ®', today_due:'ÿ¢ÿ¨ Ÿàÿßÿ¨ÿ®', this_week:'ÿßÿ≥ €ÅŸÅÿ™€í',
    unpaid:'ÿßÿØÿßÿ¶€å⁄Ø€å ŸÜ€Å€å⁄∫', paid:'ÿßÿØÿß ÿ¥ÿØ€Å', emi_tracker:'EMI / ŸÇÿ±ÿ∂ Ÿπÿ±€å⁄©ÿ±', add_emi:'+ EMI ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫',
    monthly_budget:'ŸÖÿß€ÅÿßŸÜ€Å ÿ®ÿ¨Ÿπ', spent:'ÿÆÿ±⁄Ü', left:'ÿ®ÿßŸÇ€å', usage:'ÿßÿ≥ÿ™ÿπŸÖÿßŸÑ',
    cat_budgets:'ÿ≤ŸÖÿ±€Å ÿ®ÿ¨Ÿπ', edit_budgets:'ÿ®ÿ¨Ÿπ ÿ™ÿ±ŸÖ€åŸÖ ⁄©ÿ±€å⁄∫', budget_vs_actual:'ÿ®ÿ¨Ÿπ ÿ®ŸÖŸÇÿßÿ®ŸÑ€Å ÿßÿµŸÑ',
    language:'ÿ≤ÿ®ÿßŸÜ', preferences:'ÿ™ÿ±ÿ¨€åÿ≠ÿßÿ™', dark_light:'⁄àÿßÿ±⁄© / ŸÑÿßÿ¶Ÿπ ŸÖŸà⁄à',
    change_theme:'ÿß€åŸæ ÿ™⁄æ€åŸÖ ÿ®ÿØŸÑ€å⁄∫', daily_limit_setting:'ÿ±Ÿàÿ≤ÿßŸÜ€Å ÿÆÿ±⁄Ü ⁄©€å ÿ≠ÿØ',
    daily_limit_alert:'ÿ±Ÿàÿ≤ÿßŸÜ€Å ÿ≠ÿØ ÿßŸÑÿ±Ÿπ', not_set:'ÿ≥€åŸπ ŸÜ€Å€å⁄∫', daily_limit_rs:'ÿ±Ÿàÿ≤ÿßŸÜ€Å ÿ≠ÿØ (‚Çπ)',
    save:'ŸÖÿ≠ŸÅŸàÿ∏ ⁄©ÿ±€å⁄∫', security:'ÿ≥€å⁄©€åŸàÿ±Ÿπ€å', pin_lock:'ŸÅŸÜ⁄Øÿ± Ÿæÿ±ŸÜŸπ / PIN ŸÑÿß⁄©',
    savings_goals:'ÿ®⁄Üÿ™ ÿß€ÅÿØÿßŸÅ', add_new_goal:'ŸÜ€åÿß €ÅÿØŸÅ ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫', data_mgmt:'⁄à€åŸπÿß ÿßŸÜÿ™ÿ∏ÿßŸÖ',
    delete_all:'ÿ≥ÿßÿ±ÿß ⁄à€åŸπÿß ÿ≠ÿ∞ŸÅ ⁄©ÿ±€å⁄∫', delete_warning:'ŸÖÿ≥ÿ™ŸÇŸÑ ÿ∑Ÿàÿ± Ÿæÿ± €ÅŸπÿßÿ™ÿß €Å€í',
    add_transaction:'ŸÑ€åŸÜ ÿØ€åŸÜ ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫', expense:'ÿÆÿ±⁄Ü', add_expense:'ÿÆÿ±⁄Ü ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫',
    add_income:'ÿ¢ŸÖÿØŸÜ€å ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫', category:'ÿ≤ŸÖÿ±€Å', date:'ÿ™ÿßÿ±€åÿÆ', time:'ŸàŸÇÿ™',
    payment_method:'ÿßÿØÿßÿ¶€å⁄Ø€å ⁄©ÿß ÿ∑ÿ±€åŸÇ€Å', note_optional:'ŸÜŸàŸπ (ÿßÿÆÿ™€åÿßÿ±€å)',
    app_lock:'ÿß€åŸæ ŸÑÿß⁄©', fp_face:'ŸÅŸÜ⁄Øÿ± Ÿæÿ±ŸÜŸπ / ŸÅ€åÿ≥ ID', new_pin:'ŸÜ€åÿß 4 €ÅŸÜÿØÿ≥€Å PIN',
    confirm_pin:'PIN ÿ™ÿµÿØ€åŸÇ ⁄©ÿ±€å⁄∫', enable_lock:'ŸÑÿß⁄© ŸÅÿπÿßŸÑ ⁄©ÿ±€å⁄∫', disable_lock:'ŸÑÿß⁄© ÿ∫€åÿ± ŸÅÿπÿßŸÑ ⁄©ÿ±€å⁄∫',
    add_savings_goal:'ÿ®⁄Üÿ™ €ÅÿØŸÅ ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫', goal_name:'€ÅÿØŸÅ ⁄©ÿß ŸÜÿßŸÖ', target_amount:'€ÅÿØŸÅ ÿ±ŸÇŸÖ (‚Çπ)',
    saved_so_far:'ÿßÿ®⁄æ€å ÿ™⁄© ÿ®⁄Üÿß€åÿß (‚Çπ)', add_goal:'€ÅÿØŸÅ ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫',
    add_bill_reminder:'ÿ®ŸÑ €åÿßÿØÿØ€ÅÿßŸÜ€å ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫', bill_name:'ÿ®ŸÑ ⁄©ÿß ŸÜÿßŸÖ', amount:'ÿ±ŸÇŸÖ (‚Çπ)',
    due_date:'Ÿàÿßÿ¨ÿ® ÿ™ÿßÿ±€åÿÆ', repeat:'ÿØ€Åÿ±ÿßÿ¶€å⁄∫', one_time:'ÿß€å⁄© ÿ®ÿßÿ±', monthly:'€Åÿ± ŸÖ€Å€åŸÜ€í',
    weekly:'€Åÿ± €ÅŸÅÿ™€í', yearly:'€Åÿ± ÿ≥ÿßŸÑ', add_bill_btn:'ÿ®ŸÑ €åÿßÿØÿØ€ÅÿßŸÜ€å ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫',
    add_emi_loan:'EMI / ŸÇÿ±ÿ∂ ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫', emi_name:'ŸÇÿ±ÿ∂ / EMI ⁄©ÿß ŸÜÿßŸÖ', bank_lender:'ÿ®€åŸÜ⁄© / ŸÇÿ±ÿ∂ ÿØ€ÅŸÜÿØ€Å',
    total_amount:'⁄©ŸÑ ÿ±ŸÇŸÖ (‚Çπ)', emi_month:'EMI/ŸÖÿß€Å (‚Çπ)', total_emis:'⁄©ŸÑ EMI',
    emis_paid:'ÿßÿØÿß ÿ¥ÿØ€Å EMI', start_date:'ÿ¥ÿ±Ÿàÿπ ÿ™ÿßÿ±€åÿÆ', due_day:'Ÿàÿßÿ¨ÿ® ÿØŸÜ (1-28)',
    interest_rate:'ÿ≥ŸàÿØ ⁄©€å ÿ¥ÿ±ÿ≠ (% ÿ≥ÿßŸÑÿßŸÜ€Å)', add_emi_btn:'EMI ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫',
    wa_share:'WhatsApp ÿ¥€åÿ¶ÿ±', share_type:'ÿ¥€åÿ¶ÿ± ŸÇÿ≥ŸÖ', single_entry:'Ÿàÿßÿ≠ÿØ ÿßŸÜÿØÿ±ÿßÿ¨',
    today_summary:'ÿ¢ÿ¨ ⁄©ÿß ÿÆŸÑÿßÿµ€Å', month_report:'ŸÖÿß€ÅÿßŸÜ€Å ÿ±ŸæŸàÿ±Ÿπ', msg_preview:'Ÿæ€åÿ∫ÿßŸÖ Ÿæ€åÿ¥ ŸÜÿ∏ÿßÿ±€Å',
    share_wa:'WhatsApp Ÿæÿ± ÿ¥€åÿ¶ÿ± ⁄©ÿ±€å⁄∫', set_cat_budgets:'ÿ≤ŸÖÿ±€Å ÿ®ÿ¨Ÿπ ÿ≥€åŸπ ⁄©ÿ±€å⁄∫',
    budget_hint:'€Åÿ± ÿ≤ŸÖÿ±€í ⁄©€í ŸÑ€å€í ŸÖÿß€ÅÿßŸÜ€Å ÿ®ÿ¨Ÿπ ÿ≥€åŸπ ⁄©ÿ±€å⁄∫ (0 = ⁄©Ÿàÿ¶€å ÿ≠ÿØ ŸÜ€Å€å⁄∫)',
    save_budgets:'ÿ®ÿ¨Ÿπ ŸÖÿ≠ŸÅŸàÿ∏ ⁄©ÿ±€å⁄∫', install_title:'MyKharcha ÿßŸÜÿ≥ŸπÿßŸÑ ⁄©ÿ±€å⁄∫',
    install_sub:'€ÅŸàŸÖ ÿßÿ≥⁄©ÿ±€åŸÜ Ÿæÿ± ÿ¥ÿßŸÖŸÑ ⁄©ÿ±€å⁄∫', install_btn:'ÿßŸÜÿ≥ŸπÿßŸÑ',
    nav_home:'€ÅŸàŸÖ', nav_history:'ÿ™ÿßÿ±€åÿÆ', nav_bills:'ÿ®ŸÑ',
    nav_budget:'ÿ®ÿ¨Ÿπ', nav_settings:'ÿ™ÿ±ÿ™€åÿ®ÿßÿ™', clear:'ÿµÿßŸÅ ⁄©ÿ±€å⁄∫',
    no_txn_title:'⁄©Ÿàÿ¶€å ŸÑ€åŸÜ ÿØ€åŸÜ ŸÜ€Å€å⁄∫', no_txn_sub:'+ ÿØÿ®ÿßÿ¶€å⁄∫ Ÿæ€ÅŸÑÿß ÿ¥ÿßŸÖŸÑ ⁄©ÿ±ŸÜ€í ⁄©€í ŸÑ€å€í',
    surplus_label:'‚ñ≤ ÿßÿ≥ ŸÖ€Å€åŸÜ€í ⁄©ÿß ŸÅÿßÿ∂ŸÑ', deficit_label:'‚ñº ÿßÿ≥ ŸÖ€Å€åŸÜ€í ⁄©ÿß ÿÆÿ≥ÿßÿ±€Å',
    no_data:'ÿßÿ≥ ŸÖ€Å€åŸÜ€í ⁄©Ÿàÿ¶€å ⁄à€åŸπÿß ŸÜ€Å€å⁄∫',
  },
  ta: {
    hero_label:'‡Æá‡Æ®‡Øç‡Æ§ ‡ÆÆ‡Ææ‡Æ§ ‡Æá‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ', today:'‡Æá‡Æ©‡Øç‡Æ±‡ØÅ', month:'‡ÆÆ‡Ææ‡Æ§‡ÆÆ‡Øç',
    daily_limit:'‡Æ§‡Æø‡Æ©‡Æö‡Æ∞‡Æø ‡Æµ‡Æ∞‡ÆÆ‡Øç‡Æ™‡ØÅ', income:'‡Æµ‡Æ∞‡ØÅ‡ÆÆ‡Ææ‡Æ©‡ÆÆ‡Øç', savings:'‡Æö‡Øá‡ÆÆ‡Æø‡Æ™‡Øç‡Æ™‡ØÅ',
    upcoming_bills:'‡Æµ‡Æ∞‡Æµ‡Æø‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æø‡Æ≤‡Øç‡Æï‡Æ≥‡Øç', see_all:'‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ‡ÆÆ‡Øç ‚Üí', categories:'‡Æµ‡Æï‡Øà‡Æï‡Æ≥‡Øç',
    report_arrow:'‡ÆÖ‡Æ±‡Æø‡Æï‡Øç‡Æï‡Øà ‚Üí', recent_txns:'‡Æö‡ÆÆ‡ØÄ‡Æ™‡Æ§‡Øç‡Æ§‡Æø‡ÆØ ‡Æ™‡Æ∞‡Æø‡Æµ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æ©‡Øà‡Æï‡Æ≥‡Øç',
    prev_month:'‚Äπ ‡ÆÆ‡ØÅ‡Æ®‡Øç‡Æ§‡Øà‡ÆØ', next_month:'‡ÆÖ‡Æü‡ØÅ‡Æ§‡Øç‡Æ§ ‚Ä∫', six_month:'6 ‡ÆÆ‡Ææ‡Æ§ ‡Æö‡ØÜ‡Æ≤‡Æµ‡ØÅ',
    cat_breakdown:'‡Æµ‡Æï‡Øà ‡Æ™‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ', daily_trend:'‡Æ§‡Æø‡Æ©‡Æö‡Æ∞‡Æø ‡Æ™‡Øã‡Æï‡Øç‡Æï‡ØÅ',
    export_backup:'‡Æè‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Æ§‡Æø & ‡Æï‡Ææ‡Æ™‡Øç‡Æ™‡ØÅ‡Æ™‡Øç‡Æ™‡Æø‡Æ∞‡Æ§‡Æø', bill_reminders:'‡Æ™‡Æø‡Æ≤‡Øç ‡Æ®‡Æø‡Æ©‡Øà‡Æµ‡ØÇ‡Æü‡Øç‡Æü‡Æ≤‡Øç‡Æï‡Æ≥‡Øç',
    add_bill:'+ ‡Æ™‡Æø‡Æ≤‡Øç ‡Æö‡Øá‡Æ∞‡Øç', all:'‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ‡ÆÆ‡Øç', today_due:'‡Æá‡Æ©‡Øç‡Æ±‡ØÅ ‡Æ®‡Æø‡Æ≤‡ØÅ‡Æµ‡Øà', this_week:'‡Æá‡Æ®‡Øç‡Æ§ ‡Æµ‡Ææ‡Æ∞‡ÆÆ‡Øç',
    unpaid:'‡Æö‡ØÜ‡Æ≤‡ØÅ‡Æ§‡Øç‡Æ§‡Æ™‡Øç‡Æ™‡Æü‡Ææ‡Æ§', paid:'‡Æö‡ØÜ‡Æ≤‡ØÅ‡Æ§‡Øç‡Æ§‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü', emi_tracker:'EMI / ‡Æï‡Æü‡Æ©‡Øç ‡Æï‡Æ£‡Øç‡Æï‡Ææ‡Æ£‡Æø‡Æ™‡Øç‡Æ™‡ØÅ', add_emi:'+ EMI ‡Æö‡Øá‡Æ∞‡Øç',
    monthly_budget:'‡ÆÆ‡Ææ‡Æ§‡Ææ‡Æ®‡Øç‡Æ§‡Æø‡Æ∞ ‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç', spent:'‡Æö‡ØÜ‡Æ≤‡Æµ‡ØÅ', left:'‡ÆÆ‡ØÄ‡Æ§‡ÆÆ‡Øç', usage:'‡Æ™‡ÆØ‡Æ©‡Øç‡Æ™‡Ææ‡Æü‡ØÅ',
    cat_budgets:'‡Æµ‡Æï‡Øà ‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç‡Æï‡Æ≥‡Øç', edit_budgets:'‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç ‡Æ§‡Æø‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ', budget_vs_actual:'‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç vs ‡Æâ‡Æ£‡Øç‡ÆÆ‡Øà',
    language:'‡ÆÆ‡Øä‡Æ¥‡Æø', preferences:'‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æô‡Øç‡Æï‡Æ≥‡Øç', dark_light:'‡Æá‡Æ∞‡ØÅ‡Æ£‡Øç‡Æü / ‡Æí‡Æ≥‡Æø‡Æ∞‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡Æ±‡Øà',
    change_theme:'‡Æ™‡ÆØ‡Æ©‡Øç‡Æ™‡Ææ‡Æü‡Øç‡Æü‡ØÅ ‡Æï‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Øä‡Æ∞‡ØÅ‡Æ≥‡Øç ‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡ØÅ', daily_limit_setting:'‡Æ§‡Æø‡Æ©‡Æö‡Æ∞‡Æø ‡Æö‡ØÜ‡Æ≤‡Æµ‡ØÅ ‡Æµ‡Æ∞‡ÆÆ‡Øç‡Æ™‡ØÅ',
    daily_limit_alert:'‡Æ§‡Æø‡Æ©‡Æö‡Æ∞‡Æø ‡Æµ‡Æ∞‡ÆÆ‡Øç‡Æ™‡ØÅ ‡Æé‡Æö‡Øç‡Æö‡Æ∞‡Æø‡Æï‡Øç‡Æï‡Øà', not_set:'‡ÆÖ‡ÆÆ‡Øà‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Æµ‡Æø‡Æ≤‡Øç‡Æ≤‡Øà', daily_limit_rs:'‡Æ§‡Æø‡Æ©‡Æö‡Æ∞‡Æø ‡Æµ‡Æ∞‡ÆÆ‡Øç‡Æ™‡ØÅ (‚Çπ)',
    save:'‡Æö‡Øá‡ÆÆ‡Æø', security:'‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æ™‡Øç‡Æ™‡ØÅ', pin_lock:'‡Æï‡Øà‡Æ∞‡Øá‡Æï‡Øà / PIN ‡Æ™‡ØÇ‡Æü‡Øç‡Æü‡ØÅ',
    savings_goals:'‡Æö‡Øá‡ÆÆ‡Æø‡Æ™‡Øç‡Æ™‡ØÅ ‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Æ≥‡Øç', add_new_goal:'‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ ‡Æö‡Øá‡Æ∞‡Øç', data_mgmt:'‡Æ§‡Æ∞‡Æµ‡ØÅ ‡ÆÆ‡Øá‡Æ≤‡Ææ‡Æ£‡Øç‡ÆÆ‡Øà',
    delete_all:'‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ ‡Æ§‡Æ∞‡Æµ‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æ®‡ØÄ‡Æï‡Øç‡Æï‡ØÅ', delete_warning:'‡Æ®‡Æø‡Æ∞‡Æ®‡Øç‡Æ§‡Æ∞‡ÆÆ‡Ææ‡Æï ‡ÆÖ‡Æï‡Æ±‡Øç‡Æ±‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ',
    add_transaction:'‡Æ™‡Æ∞‡Æø‡Æµ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æ©‡Øà ‡Æö‡Øá‡Æ∞‡Øç', expense:'‡Æö‡ØÜ‡Æ≤‡Æµ‡ØÅ', add_expense:'‡Æö‡ØÜ‡Æ≤‡Æµ‡ØÅ ‡Æö‡Øá‡Æ∞‡Øç',
    add_income:'‡Æµ‡Æ∞‡ØÅ‡ÆÆ‡Ææ‡Æ©‡ÆÆ‡Øç ‡Æö‡Øá‡Æ∞‡Øç', category:'‡Æµ‡Æï‡Øà', date:'‡Æ§‡Øá‡Æ§‡Æø', time:'‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç',
    payment_method:'‡Æï‡Æü‡Øç‡Æü‡Æ£ ‡ÆÆ‡ØÅ‡Æ±‡Øà', note_optional:'‡Æï‡ØÅ‡Æ±‡Æø‡Æ™‡Øç‡Æ™‡ØÅ (‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æ§‡Øç‡Æ§‡Æø‡Æ±‡Øç‡Æï‡ØÅ)',
    app_lock:'‡Æ™‡ÆØ‡Æ©‡Øç‡Æ™‡Ææ‡Æü‡Øç‡Æü‡ØÅ ‡Æ™‡ØÇ‡Æü‡Øç‡Æü‡ØÅ', fp_face:'‡Æï‡Øà‡Æ∞‡Øá‡Æï‡Øà / ‡ÆÆ‡ØÅ‡Æï ID', new_pin:'‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ 4 ‡Æá‡Æ≤‡Æï‡Øç‡Æï PIN',
    confirm_pin:'PIN ‡Æâ‡Æ±‡ØÅ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ', enable_lock:'‡Æ™‡ØÇ‡Æü‡Øç‡Æü‡ØÅ ‡Æá‡ÆØ‡Æï‡Øç‡Æï‡ØÅ', disable_lock:'‡Æ™‡ØÇ‡Æü‡Øç‡Æü‡ØÅ ‡ÆÆ‡ØÅ‡Æü‡Æï‡Øç‡Æï‡ØÅ',
    add_savings_goal:'‡Æö‡Øá‡ÆÆ‡Æø‡Æ™‡Øç‡Æ™‡ØÅ ‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ ‡Æö‡Øá‡Æ∞‡Øç', goal_name:'‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç', target_amount:'‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ ‡Æ§‡Øä‡Æï‡Øà (‚Çπ)',
    saved_so_far:'‡Æá‡Æ§‡ØÅ‡Æµ‡Æ∞‡Øà ‡Æö‡Øá‡ÆÆ‡Æø‡Æ§‡Øç‡Æ§‡Æ§‡ØÅ (‚Çπ)', add_goal:'‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ ‡Æö‡Øá‡Æ∞‡Øç',
    add_bill_reminder:'‡Æ™‡Æø‡Æ≤‡Øç ‡Æ®‡Æø‡Æ©‡Øà‡Æµ‡ØÇ‡Æü‡Øç‡Æü‡Æ≤‡Øç ‡Æö‡Øá‡Æ∞‡Øç', bill_name:'‡Æ™‡Æø‡Æ≤‡Øç ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç', amount:'‡Æ§‡Øä‡Æï‡Øà (‚Çπ)',
    due_date:'‡Æ®‡Æø‡Æ≤‡ØÅ‡Æµ‡Øà ‡Æ§‡Øá‡Æ§‡Æø', repeat:'‡ÆÆ‡ØÄ‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç', one_time:'‡Æí‡Æ∞‡ØÅ ‡ÆÆ‡ØÅ‡Æ±‡Øà', monthly:'‡ÆÆ‡Ææ‡Æ§‡Æ®‡Øç‡Æ§‡Øã‡Æ±‡ØÅ‡ÆÆ‡Øç',
    weekly:'‡Æµ‡Ææ‡Æ∞‡Æ®‡Øç‡Æ§‡Øã‡Æ±‡ØÅ‡ÆÆ‡Øç', yearly:'‡ÆÜ‡Æ£‡Øç‡Æü‡ØÅ‡Æ§‡Øã‡Æ±‡ØÅ‡ÆÆ‡Øç', add_bill_btn:'‡Æ™‡Æø‡Æ≤‡Øç ‡Æ®‡Æø‡Æ©‡Øà‡Æµ‡ØÇ‡Æü‡Øç‡Æü‡Æ≤‡Øç ‡Æö‡Øá‡Æ∞‡Øç',
    add_emi_loan:'EMI / ‡Æï‡Æü‡Æ©‡Øç ‡Æö‡Øá‡Æ∞‡Øç', emi_name:'‡Æï‡Æü‡Æ©‡Øç / EMI ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç', bank_lender:'‡Æµ‡Æô‡Øç‡Æï‡Æø / ‡Æï‡Æü‡Æ©‡Øç ‡Æµ‡Æ¥‡Æô‡Øç‡Æï‡ØÅ‡Æµ‡Øã‡Æ∞‡Øç',
    total_amount:'‡ÆÆ‡Øä‡Æ§‡Øç‡Æ§ ‡Æ§‡Øä‡Æï‡Øà (‚Çπ)', emi_month:'EMI/‡ÆÆ‡Ææ‡Æ§‡ÆÆ‡Øç (‚Çπ)', total_emis:'‡ÆÆ‡Øä‡Æ§‡Øç‡Æ§ EMI',
    emis_paid:'‡Æö‡ØÜ‡Æ≤‡ØÅ‡Æ§‡Øç‡Æ§‡Æø‡ÆØ EMI', start_date:'‡Æ§‡Øä‡Æü‡Æï‡Øç‡Æï ‡Æ§‡Øá‡Æ§‡Æø', due_day:'‡Æ®‡Æø‡Æ≤‡ØÅ‡Æµ‡Øà ‡Æ®‡Ææ‡Æ≥‡Øç (1-28)',
    interest_rate:'‡Æµ‡Æü‡Øç‡Æü‡Æø ‡Æµ‡Æø‡Æï‡Æø‡Æ§‡ÆÆ‡Øç (% ‡ÆÜ‡Æ£‡Øç‡Æü‡ØÅ‡Æï‡Øç‡Æï‡ØÅ)', add_emi_btn:'EMI ‡Æö‡Øá‡Æ∞‡Øç',
    wa_share:'WhatsApp ‡Æ™‡Æï‡Æø‡Æ∞‡Øç‡Æµ‡ØÅ', share_type:'‡Æ™‡Æï‡Æø‡Æ∞‡Øç‡Æµ‡ØÅ ‡Æµ‡Æï‡Øà', single_entry:'‡Æí‡Æ±‡Øç‡Æ±‡Øà ‡Æâ‡Æ≥‡Øç‡Æ≥‡ØÄ‡Æü‡ØÅ',
    today_summary:'‡Æá‡Æ©‡Øç‡Æ±‡Øà‡ÆØ ‡Æö‡ØÅ‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ÆÆ‡Øç', month_report:'‡ÆÆ‡Ææ‡Æ§ ‡ÆÖ‡Æ±‡Æø‡Æï‡Øç‡Æï‡Øà', msg_preview:'‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡Æø ‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æ©‡Øã‡Æü‡Øç‡Æü‡ÆÆ‡Øç',
    share_wa:'WhatsApp ‡Æá‡Æ≤‡Øç ‡Æ™‡Æï‡Æø‡Æ∞‡Øç', set_cat_budgets:'‡Æµ‡Æï‡Øà ‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡ÆÆ‡Øà',
    budget_hint:'‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡Æµ‡Æï‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Ææ‡Æ§‡Ææ‡Æ®‡Øç‡Æ§‡Æø‡Æ∞ ‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç ‡ÆÖ‡ÆÆ‡Øà (0 = ‡Æµ‡Æ∞‡ÆÆ‡Øç‡Æ™‡Æø‡Æ≤‡Øç‡Æ≤‡Øà)',
    save_budgets:'‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡Øá‡ÆÆ‡Æø', install_title:'MyKharcha ‡Æ®‡Æø‡Æ±‡ØÅ‡Æµ‡ØÅ',
    install_sub:'‡ÆÆ‡ØÅ‡Æï‡Æ™‡Øç‡Æ™‡ØÅ ‡Æ§‡Æø‡Æ∞‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æö‡Øá‡Æ∞‡Øç', install_btn:'‡Æ®‡Æø‡Æ±‡ØÅ‡Æµ‡ØÅ',
    nav_home:'‡ÆÆ‡ØÅ‡Æï‡Æ™‡Øç‡Æ™‡ØÅ', nav_history:'‡Æµ‡Æ∞‡Æ≤‡Ææ‡Æ±‡ØÅ', nav_bills:'‡Æ™‡Æø‡Æ≤‡Øç‡Æï‡Æ≥‡Øç',
    nav_budget:'‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç', nav_settings:'‡ÆÖ‡ÆÆ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç', clear:'‡ÆÖ‡Æ¥‡Æø',
    no_txn_title:'‡Æ™‡Æ∞‡Æø‡Æµ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æ©‡Øà‡Æï‡Æ≥‡Øç ‡Æá‡Æ≤‡Øç‡Æ≤‡Øà', no_txn_sub:'+ ‡ÆÖ‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡Æø ‡ÆÆ‡ØÅ‡Æ§‡Æ≤‡Ææ‡Æµ‡Æ§‡Øà ‡Æö‡Øá‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
    surplus_label:'‚ñ≤ ‡Æá‡Æ®‡Øç‡Æ§ ‡ÆÆ‡Ææ‡Æ§ ‡Æâ‡Æ™‡Æ∞‡Æø', deficit_label:'‚ñº ‡Æá‡Æ®‡Øç‡Æ§ ‡ÆÆ‡Ææ‡Æ§ ‡Æ™‡Æ±‡Øç‡Æ±‡Ææ‡Æï‡Øç‡Æï‡ØÅ‡Æ±‡Øà',
    no_data:'‡Æá‡Æ®‡Øç‡Æ§ ‡ÆÆ‡Ææ‡Æ§‡ÆÆ‡Øç ‡Æ§‡Æ∞‡Æµ‡ØÅ ‡Æá‡Æ≤‡Øç‡Æ≤‡Øà',
  }
};

let curLang = 'hi'; // Default Hindi

function t(key) {
  return (LANGS[curLang] && LANGS[curLang][key]) || (LANGS['hi'] && LANGS['hi'][key]) || key;
}

function applyLang() {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    el.textContent = t(key);
  });
  // RTL for Urdu
  document.body.setAttribute('data-lang', curLang);
  // Update lang buttons
  document.querySelectorAll('.lang-btn').forEach(b => {
    b.classList.toggle('sel', b.getAttribute('data-lang') === curLang);
  });
  // Update search placeholder
  const si = document.getElementById('searchInp');
  if(si) si.placeholder = curLang==='en' ? 'Search by note...' : curLang==='hi' ? '‡§®‡•ã‡§ü ‡§∏‡•á ‡§ñ‡•ã‡§ú‡•á‡§Ç...' : curLang==='mr' ? '‡§®‡•ã‡§ü‡§¶‡•ç‡§µ‡§æ‡§∞‡•á ‡§∂‡•ã‡§ß‡§æ...' : curLang==='ur' ? 'ŸÜŸàŸπ ÿ≥€í ÿ™ŸÑÿßÿ¥ ⁄©ÿ±€å⁄∫...' : '‡Æï‡ØÅ‡Æ±‡Æø‡Æ™‡Øç‡Æ™‡Ææ‡Æ≤‡Øç ‡Æ§‡Øá‡Æü‡ØÅ...';
}

function setLang(lang) {
  curLang = lang;
  DS.settings.lang = lang;
  sS();
  applyLang();
  renderDash();
  toast(curLang==='hi'?'‡§≠‡§æ‡§∑‡§æ ‡§¨‡§¶‡§≤‡•Ä! ‚úì':curLang==='mr'?'‡§≠‡§æ‡§∑‡§æ ‡§¨‡§¶‡§≤‡§≤‡•Ä! ‚úì':curLang==='ur'?'ÿ≤ÿ®ÿßŸÜ ÿ™ÿ®ÿØ€åŸÑ! ‚úì':curLang==='ta'?'‡ÆÆ‡Øä‡Æ¥‡Æø ‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ! ‚úì':'Language changed! ‚úì', 'ok');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  CONSTANTS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const ECATS=[
  {id:'food',    n:'Food',     ico:'restaurant',     c:'#ff5f7e'},
  {id:'travel',  n:'Travel',   ico:'directions_car', c:'#ffaa4d'},
  {id:'shopping',n:'Shopping', ico:'shopping_bag',   c:'#c084fc'},
  {id:'bills',   n:'Bills',    ico:'receipt_long',   c:'#4db8ff'},
  {id:'recharge',n:'Recharge', ico:'smartphone',     c:'#4dffb8'},
  {id:'rent',    n:'Rent',     ico:'home',           c:'#fb923c'},
  {id:'health',  n:'Health',   ico:'favorite',       c:'#f472b6'},
  {id:'other',   n:'Other',    ico:'more_horiz',     c:'#818cf8'},
];
const ICATS=[
  {id:'salary',    n:'Salary',    ico:'work',         c:'#4dffb8'},
  {id:'freelance', n:'Freelance', ico:'laptop_mac',   c:'#4db8ff'},
  {id:'business',  n:'Business',  ico:'store',        c:'#ffaa4d'},
  {id:'investment',n:'Invest',    ico:'trending_up',  c:'#8b7fff'},
  {id:'gift',      n:'Gift',      ico:'card_giftcard',c:'#f472b6'},
  {id:'other_inc', n:'Other',     ico:'more_horiz',   c:'#818cf8'},
];
const BICO={bills:'receipt_long',recharge:'smartphone',rent:'home',food:'restaurant',shopping:'shopping_bag',other:'payments'};
const ECLRS=['#8b7fff','#4db8ff','#4dffb8','#ff5f7e','#ffaa4d','#f472b6','#fb923c','#2dd4bf'];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let DS={txns:[],goals:[],bills:[],emis:[],settings:{theme:'dark',limitEnabled:false,dailyLimit:0,lang:'en',pinEnabled:false,pin:''},budgets:{}};
let curType='expense', selCat='food', selPayM='Cash', editId=null;
let rMonth=new Date().getMonth(), rYear=new Date().getFullYear();
let bMonth=new Date().getMonth(), bYear=new Date().getFullYear();
let editBillId=null, editEmiId=null;
let barC=null, pieC=null, lineC=null, budgetC=null;
let deferredPrompt=null;
let waType='single', waTxnId=null;

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  FIREBASE CONFIG & INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let fbApp=null, fbAuth=null, fbDb=null, currentUser=null;
let syncTimer=null, pendingSync=false;

function saveFirebaseConfig(){
  const apiKey=document.getElementById('cfgApiKey').value.trim();
  const authDomain=document.getElementById('cfgAuthDomain').value.trim();
  const projectId=document.getElementById('cfgProjectId').value.trim();
  const appId=document.getElementById('cfgAppId').value.trim();
  if(!apiKey||!authDomain||!projectId||!appId){
    alert('Sab fields bharna zaroori hai!'); return;
  }
  const cfg={apiKey,authDomain,projectId,appId,storageBucket:projectId+'.appspot.com',messagingSenderId:'000000000000'};
  localStorage.setItem('mk_fb_config',JSON.stringify(cfg));
  document.getElementById('configScreen').classList.remove('show');
  initFirebase(cfg);
}

function initFirebase(cfg){
  try{
    if(!firebase.apps.length) fbApp=firebase.initializeApp(cfg);
    else fbApp=firebase.app();
    fbAuth=firebase.auth();
    fbDb=firebase.firestore();
    fbDb.enablePersistence({synchronizeTabs:true}).catch(()=>{});
    fbAuth.onAuthStateChanged(user=>{
      if(user){
        currentUser=user;
        document.getElementById('authScreen').style.display='none';
        document.getElementById('app').style.display='';
        document.getElementById('userChip').style.display='flex';
        const name=user.displayName||user.email.split('@')[0];
        document.getElementById('userName').textContent=name;
        document.getElementById('userInitial').textContent=name[0].toUpperCase();
        document.getElementById('fbAccName').textContent=name;
        document.getElementById('fbAccEmail').textContent=user.email;
        loadFromFirestore();
      } else {
        currentUser=null;
        document.getElementById('authScreen').style.display='flex';
        document.getElementById('app').style.display='none';
        document.getElementById('userChip').style.display='none';
      }
    });
  } catch(e){
    alert('Firebase init failed: '+e.message+'\nConfig dobara check karein.');
    document.getElementById('configScreen').classList.add('show');
  }
}

// ‚îÄ‚îÄ‚îÄ AUTH FUNCTIONS ‚îÄ‚îÄ‚îÄ
function switchAuthTab(tab){
  document.getElementById('tabLogin').classList.toggle('on',tab==='login');
  document.getElementById('tabSignup').classList.toggle('on',tab==='signup');
  document.getElementById('authNameWrap').style.display=tab==='signup'?'':'none';
  document.getElementById('authSubmitBtn').textContent=tab==='login'?'Login':'Register';
  document.getElementById('authErr').textContent='';
}
async function doEmailAuth(){
  const email=document.getElementById('authEmail').value.trim();
  const pass=document.getElementById('authPass').value;
  const isLogin=document.getElementById('tabLogin').classList.contains('on');
  document.getElementById('authErr').textContent='';
  if(!email||!pass){document.getElementById('authErr').textContent='Email aur password dono chahiye';return;}
  try{
    if(isLogin){
      await fbAuth.signInWithEmailAndPassword(email,pass);
    } else {
      const name=document.getElementById('authName').value.trim()||email.split('@')[0];
      const cred=await fbAuth.createUserWithEmailAndPassword(email,pass);
      await cred.user.updateProfile({displayName:name});
    }
  } catch(e){
    const msgs={'auth/user-not-found':'User nahi mila','auth/wrong-password':'Wrong password','auth/email-already-in-use':'Email already registered hai','auth/weak-password':'Password kam se kam 6 characters ka hona chahiye','auth/invalid-email':'Valid email darj karein'};
    document.getElementById('authErr').textContent=msgs[e.code]||e.message;
  }
}
async function doGoogleLogin(){
  try{
    const provider=new firebase.auth.GoogleAuthProvider();
    await fbAuth.signInWithPopup(provider);
  } catch(e){
    document.getElementById('authErr').textContent='Google login failed: '+e.message;
  }
}
async function doLogout(){
  if(!confirm('Logout karna chahte hain?'))return;
  await fbAuth.signOut();
  DS={txns:[],goals:[],bills:[],emis:[],settings:{theme:'dark',limitEnabled:false,dailyLimit:0,lang:'en',pinEnabled:false,pin:''},budgets:{}};
  toast('Logged out ‚úì','ok');
}
function showUserMenu(){
  if(confirm('Logout karna chahte hain?')) doLogout();
}

// ‚îÄ‚îÄ‚îÄ FIRESTORE SYNC ‚îÄ‚îÄ‚îÄ
async function loadFromFirestore(){
  if(!currentUser||!fbDb) return;
  showSync('syncing');
  try{
    const uid=currentUser.uid;
    const snap=await fbDb.collection('users').doc(uid).get();
    if(snap.exists){
      const d=snap.data();
      if(d.txns)   DS.txns=d.txns;
      if(d.goals)  DS.goals=d.goals;
      if(d.bills)  DS.bills=d.bills;
      if(d.emis)   DS.emis=d.emis;
      if(d.budgets)DS.budgets=d.budgets;
      if(d.settings)DS.settings=Object.assign({},DS.settings,d.settings);
    }
    showSync('synced');
  } catch(e){
    console.warn('Firestore load failed, using local',e);
    showSync('');
  }
  renderDash(); updNotif();
  applyTheme(DS.settings.theme);
  applyColorTheme(DS.settings.colorTheme || 'purple');
  applyLang();
}

async function saveToFirestore(){
  if(!currentUser||!fbDb) return;
  showSync('syncing');
  try{
    await fbDb.collection('users').doc(currentUser.uid).set({
      txns:DS.txns, goals:DS.goals, bills:DS.bills, emis:DS.emis,
      budgets:DS.budgets, settings:DS.settings,
      lastUpdated:firebase.firestore.FieldValue.serverTimestamp()
    });
    showSync('synced');
  } catch(e){
    console.warn('Firestore save failed',e);
    showSync('');
  }
}

function debouncedSync(){
  clearTimeout(syncTimer);
  syncTimer=setTimeout(()=>saveToFirestore(),1500);
}

function showSync(state){
  const badge=document.getElementById('syncBadge');
  const dot=document.getElementById('syncDot');
  const txt=document.getElementById('syncTxt');
  if(state==='syncing'){badge.classList.add('show');dot.classList.add('spin');txt.textContent='Syncing...';}
  else if(state==='synced'){badge.classList.add('show');dot.classList.remove('spin');txt.textContent='Synced ‚úì';setTimeout(()=>badge.classList.remove('show'),2500);}
  else{badge.classList.remove('show');}
}

async function manualSync(){
  await loadFromFirestore();
  renderDash(); renderSettings();
  toast('Data sync ho gaya! ‚úì','ok');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  STORAGE (Firebase + localStorage fallback)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function load(){
  try{
    const t=localStorage.getItem('mk_txns'), g=localStorage.getItem('mk_goals'),
          s=localStorage.getItem('mk_settings'), b=localStorage.getItem('mk_bills'),
          e=localStorage.getItem('mk_emis'), bg=localStorage.getItem('mk_budgets');
    if(t) DS.txns=JSON.parse(t);
    if(g) DS.goals=JSON.parse(g);
    if(s) DS.settings=Object.assign({},DS.settings,JSON.parse(s));
    if(b) DS.bills=JSON.parse(b);
    if(e) DS.emis=JSON.parse(e);
    if(bg) DS.budgets=JSON.parse(bg);
  }catch(e){console.warn('Load error',e);}
}
const sT=()=>{localStorage.setItem('mk_txns',JSON.stringify(DS.txns));debouncedSync();}
const sG=()=>{localStorage.setItem('mk_goals',JSON.stringify(DS.goals));debouncedSync();}
const sS=()=>{localStorage.setItem('mk_settings',JSON.stringify(DS.settings));debouncedSync();}
const sB=()=>{localStorage.setItem('mk_bills',JSON.stringify(DS.bills));debouncedSync();}
const sE=()=>{localStorage.setItem('mk_emis',JSON.stringify(DS.emis));debouncedSync();}
const sBg=()=>{localStorage.setItem('mk_budgets',JSON.stringify(DS.budgets));debouncedSync();}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  PWA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function injectManifest(){
  const m={name:'MyKharcha ‚Äì Smart Expense Tracker',short_name:'MyKharcha',description:'Smart Expense Tracker',start_url:'./',display:'standalone',background_color:'#0c0c1a',theme_color:'#0c0c1a',orientation:'portrait',icons:[{src:mkIco(192),sizes:'192x192',type:'image/png',purpose:'any maskable'},{src:mkIco(512),sizes:'512x512',type:'image/png',purpose:'any maskable'}]};
  const blob=new Blob([JSON.stringify(m)],{type:'application/manifest+json'});
  document.getElementById('manifestLink').href=URL.createObjectURL(blob);
}
function mkIco(sz){
  const c=document.createElement('canvas');c.width=c.height=sz;
  const ctx=c.getContext('2d');
  ctx.fillStyle='#0c0c1a';ctx.beginPath();ctx.roundRect(0,0,sz,sz,sz*.22);ctx.fill();
  const g=ctx.createLinearGradient(sz*.1,sz*.1,sz*.9,sz*.9);g.addColorStop(0,'#8b7fff');g.addColorStop(1,'#4db8ff');
  ctx.fillStyle=g;ctx.font=`bold ${sz*.55}px system-ui`;ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText('‚Çπ',sz/2,sz/2);
  return c.toDataURL('image/png');
}
function regSW(){
  if(!('serviceWorker' in navigator))return;
  const sw=`const C='mk-v3';self.addEventListener('install',e=>{self.skipWaiting();});self.addEventListener('activate',e=>{e.waitUntil(caches.keys().then(k=>Promise.all(k.filter(x=>x!==C).map(x=>caches.delete(x)))));self.clients.claim();});self.addEventListener('fetch',e=>{if(e.request.method!=='GET')return;e.respondWith(caches.match(e.request).then(r=>r||fetch(e.request)));});`;
  navigator.serviceWorker.register(URL.createObjectURL(new Blob([sw],{type:'text/javascript'}))).catch(()=>{});
}
window.addEventListener('beforeinstallprompt',e=>{e.preventDefault();deferredPrompt=e;document.getElementById('installBanner').style.display='flex';});
function doInstall(){if(!deferredPrompt)return;deferredPrompt.prompt();deferredPrompt.userChoice.then(()=>{deferredPrompt=null;document.getElementById('installBanner').style.display='none';});}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  THEME
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function toggleTheme(){
  const isL=document.documentElement.getAttribute('data-theme')==='light';
  applyTheme(isL?'dark':'light');
}
function applyTheme(t){
  t=t||DS.settings.theme||'dark';
  document.documentElement.setAttribute('data-theme',t);
  DS.settings.theme=t; sS();
  const isL=t==='light';
  const thIco=document.getElementById('thIco');
  if(thIco) thIco.textContent=isL?'dark_mode':'light_mode';
  const tglTheme=document.getElementById('tglTheme');
  if(tglTheme) tglTheme.classList.toggle('on',isL);
  document.getElementById('metaTheme').content=isL?'#f0f0f8':'#0c0c1a';
  // update mode buttons
  const md=document.getElementById('modeDark');
  const ml=document.getElementById('modeLight');
  if(md) md.classList.toggle('active',!isL);
  if(ml) ml.classList.toggle('active',isL);
}

function applyColorTheme(color){
  color = color || DS.settings.colorTheme || 'purple';
  document.documentElement.setAttribute('data-color', color);
  DS.settings.colorTheme = color;
  sS();
  // Update active state on cards
  document.querySelectorAll('.ct-card').forEach(c=>{
    c.classList.toggle('active', c.getAttribute('data-color')===color);
  });
  // Re-apply scrollbar color dynamically
  const colors={
    purple:'#8b7fff', pink:'#ff6bda', blue:'#4db8ff',
    green:'#4dffb8', orange:'#ffaa4d'
  };
  // Update scrollbar via CSS variable trick
  document.documentElement.style.setProperty('--scrollbar-color', colors[color]||'#8b7fff');
  toast('Theme change ho gaya! ‚úì','ok');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  PAGE NAVIGATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function switchPg(pg){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nbtn').forEach(b=>b.classList.remove('on'));
  document.getElementById('pg-'+pg).classList.add('active');
  const nb=document.getElementById('nb-'+pg);
  if(nb) nb.classList.add('on');
  window.scrollTo(0,0);
  if(pg==='dash')    renderDash();
  if(pg==='history') renderHistory();
  if(pg==='reports') renderReports();
  if(pg==='bills')   renderBills();
  if(pg==='budget')  renderBudget();
  if(pg==='settings')renderSettings();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  MODALS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openM(id){
  if(id==='addModal'){resetForm();}
  if(id==='pinModal'){
    qs('#disablePinDiv').style.display=DS.settings.pinEnabled?'':'none';
    qs('#pinA').value='';qs('#pinB').value='';
  }
  if(id==='billModal' && !editBillId){
    document.getElementById('billMTitle').textContent=t('add_bill_reminder');
    document.getElementById('billSubmitBtn').textContent=t('add_bill_btn');
    document.getElementById('bNameInp').value='';document.getElementById('bAmtInp').value='';
    document.getElementById('bDueInp').value=toDS(new Date());document.getElementById('bNoteInp').value='';
    document.getElementById('bCatInp').value='bills';document.getElementById('bRepeatInp').value='none';
  }
  if(id==='emiModal' && !editEmiId){
    document.getElementById('emiMTitle').textContent=t('add_emi_loan');
    document.getElementById('emiSubmitBtn').textContent=t('add_emi_btn');
    ['eNameInp','eBankInp','eTotalInp','eEmiInp','eTotalEmiInp','ePaidInp','eRateInp','eDayInp'].forEach(x=>document.getElementById(x).value='');
    document.getElementById('eStartInp').value=toDS(new Date());
  }
  if(id==='budgetEditModal') buildBudgetInps();
  document.getElementById(id).classList.add('open');
  document.body.style.overflow='hidden';
}
function closeM(id){
  document.getElementById(id).classList.remove('open');
  document.body.style.overflow='';
  if(id==='billModal') editBillId=null;
  if(id==='emiModal') editEmiId=null;
  if(id==='pinModal'){qs('#pinA').value='';qs('#pinB').value='';}
}
document.addEventListener('click',function(e){
  if(e.target.classList.contains('ov')) closeM(e.target.id);
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  TRANSACTION FORM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function resetForm(){
  editId=null;
  document.getElementById('addMTitle').textContent=t('add_transaction');
  document.getElementById('subBtnTxt').textContent=t('add_expense');
  document.getElementById('amtInp').value='';
  document.getElementById('noteInp').value='';
  const now=new Date();
  document.getElementById('dateInp').value=toDS(now);
  document.getElementById('timeInp').value=now.toTimeString().slice(0,5);
  selCat='food'; selPayM='Cash'; curType='expense';
  setType('expense');
  document.querySelectorAll('.pc').forEach(c=>c.classList.toggle('sel',c.dataset.p==='Cash'));
}
function setType(t2){
  curType=t2;
  document.getElementById('ttExp').className='tbtn'+(t2==='expense'?' ae':'');
  document.getElementById('ttInc').className='tbtn'+(t2==='income'?' ai':'');
  document.getElementById('payGrp').style.display=t2==='expense'?'':'none';
  selCat=t2==='expense'?'food':'salary';
  if(!editId) document.getElementById('subBtnTxt').textContent=t2==='expense'?t('add_expense'):t('add_income');
  buildCatChips();
}
function buildCatChips(){
  const cats=curType==='expense'?ECATS:ICATS;
  document.getElementById('catChips').innerHTML=cats.map(c=>
    `<div class="cc${c.id===selCat?' sel':''}" onclick="pickCat('${c.id}')"><span class="material-icons-round" style="color:${c.c}">${c.ico}</span>${c.n}</div>`
  ).join('');
}
function pickCat(id){selCat=id;buildCatChips();}
function selPay(el){document.querySelectorAll('.pc').forEach(c=>c.classList.remove('sel'));el.classList.add('sel');selPayM=el.dataset.p;}

function submitTxn(){
  const amt=parseFloat(document.getElementById('amtInp').value);
  if(!amt||amt<=0){toast(t('valid_amount')||'Valid amount darj karein','err');return;}
  const d=document.getElementById('dateInp').value;
  const ti=document.getElementById('timeInp').value;
  if(!d){toast('Tarikh select karein','err');return;}
  const txn={
    id:editId||Date.now().toString(),
    type:curType, amount:amt, cat:selCat,
    date:d, time:ti,
    note:document.getElementById('noteInp').value.trim(),
    pay:curType==='expense'?selPayM:'N/A'
  };
  if(editId){
    const i=DS.txns.findIndex(x=>x.id===editId);
    if(i>-1) DS.txns[i]=txn;
    toast('Updated! ‚úì','ok');
  } else {
    DS.txns.unshift(txn);
    toast((curType==='expense'?t('expense'):t('income'))+' added! ‚úì','ok');
    chkLimit(txn);
  }
  sT();closeM('addModal');renderDash();
  if(document.getElementById('pg-history').classList.contains('active')) renderHistory();
}
function editTxn(id){
  const tx=DS.txns.find(x=>x.id===id);if(!tx)return;
  editId=id;
  setType(tx.type);
  document.getElementById('amtInp').value=tx.amount;
  document.getElementById('dateInp').value=tx.date;
  document.getElementById('timeInp').value=tx.time;
  document.getElementById('noteInp').value=tx.note||'';
  selCat=tx.cat; selPayM=tx.pay||'Cash';
  buildCatChips();
  document.querySelectorAll('.pc').forEach(c=>c.classList.toggle('sel',c.dataset.p===selPayM));
  document.getElementById('addMTitle').textContent='Edit Transaction';
  document.getElementById('subBtnTxt').textContent='Update';
  openM('addModal');
}
function delTxn(id){
  if(!confirm('Delete this transaction?'))return;
  DS.txns=DS.txns.filter(tx=>tx.id!==id);
  sT();renderDash();
  if(document.getElementById('pg-history').classList.contains('active')) renderHistory();
  toast('Deleted ‚úì','err');
}
function chkLimit(txn){
  if(!DS.settings.limitEnabled||!DS.settings.dailyLimit||txn.type!=='expense')return;
  const spent=DS.txns.filter(tx=>tx.type==='expense'&&tx.date===toDS(new Date())).reduce((s,tx)=>s+tx.amount,0);
  if(spent>DS.settings.dailyLimit) toast(`‚ö†Ô∏è Daily limit ‚Çπ${rfmt(DS.settings.dailyLimit)} exceeded!`,'warn');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  DASHBOARD
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderDash(){
  const today=toDS(new Date()), now=new Date(), cm=now.getMonth(), cy=now.getFullYear();
  const tE=DS.txns.filter(tx=>tx.type==='expense'&&tx.date===today);
  const mE=DS.txns.filter(tx=>tx.type==='expense'&&smth(tx.date,cm,cy));
  const mI=DS.txns.filter(tx=>tx.type==='income'&&smth(tx.date,cm,cy));
  const tT=sm(tE), mT=sm(mE), iT=sm(mI), bal=iT-mT;
  qs('#heroAmt').textContent=r(Math.abs(bal));
  qs('#heroSub').textContent=bal>=0?t('surplus_label'):t('deficit_label');
  qs('#todayAmt').textContent=r(tT);
  qs('#monthAmt').textContent=r(mT);
  qs('#txnCnt').textContent=mE.length+mI.length;
  qs('#incAmt').textContent=r(iT);
  qs('#savAmt').textContent=r(Math.max(0,bal));
  const ls=DS.settings;
  if(ls.limitEnabled&&ls.dailyLimit){
    const pct=Math.min(100,(tT/ls.dailyLimit)*100);
    qs('#lstrip').style.display='';
    qs('#lfill').style.width=pct+'%';
    qs('#lfill').classList.toggle('over',pct>=100);
    qs('#ltxt').textContent=`${r(tT)} / ${r(ls.dailyLimit)}`;
  } else qs('#lstrip').style.display='none';
  const ct={};ECATS.forEach(c=>{ct[c.id]=0;});
  mE.forEach(tx=>{if(ct[tx.cat]!==undefined) ct[tx.cat]+=tx.amount;});
  const sorted=ECATS.filter(c=>ct[c.id]>0).sort((a,b)=>ct[b.id]-ct[a.id]);
  const cs=qs('#catSummary');
  cs.innerHTML=sorted.length?sorted.slice(0,6).map(c=>{
    const pct=mT>0?((ct[c.id]/mT)*100).toFixed(0):0;
    return`<div class="crow"><div class="ci" style="background:${c.c}18"><span class="material-icons-round" style="color:${c.c}">${c.ico}</span></div><div class="cm"><div class="cn">${c.n}</div><div class="cpbar"><div class="cpfill" style="width:${pct}%;background:${c.c}"></div></div></div><div class="cp2">${pct}%</div><div class="ca" style="color:${c.c}">${r(ct[c.id])}</div></div>`;
  }).join(''):`<div class="empty"><span class="material-icons-round">pie_chart</span><p>${t('no_data')}</p></div>`;
  const rt=qs('#recentTxns');
  const rec=DS.txns.slice(0,5);
  rt.innerHTML=rec.length?rec.map(tx=>txnRow(tx,false)).join(''):`<div class="empty"><span class="material-icons-round">receipt_long</span><h3>${t('no_txn_title')}</h3><p>${t('no_txn_sub')}</p></div>`;
  const due=DS.bills.filter(b=>!b.paid&&dUntil(b.dueDate)<=3).sort((a,b)=>dUntil(a.dueDate)-dUntil(b.dueDate)).slice(0,3);
  const dbw=qs('#dashBillsWrap');
  if(due.length){dbw.style.display='';qs('#dashBillsList').innerHTML=due.map(b=>billRow(b,false)).join('');}
  else dbw.style.display='none';
  updNotif();
}

function txnRow(tx,acts){
  const cats=tx.type==='expense'?ECATS:ICATS;
  const cat=cats.find(c=>c.id===tx.cat)||{n:tx.cat,ico:'paid',c:'#888'};
  const pt=tx.type==='expense'?`<span class="tag ${(tx.pay||'').toLowerCase()}">${tx.pay||''}</span>`:`<span class="tag income-tag">${t('income')}</span>`;
  const ab=acts?`<div class="tacts">
    <button class="tabtn ed" onclick="event.stopPropagation();editTxn('${tx.id}')" title="Edit"><span class="material-icons-round">edit</span></button>
    <button class="tabtn wa" onclick="event.stopPropagation();openWa('${tx.id}')" title="WhatsApp Share"><span class="material-icons-round">share</span></button>
    <button class="tabtn dl" onclick="event.stopPropagation();delTxn('${tx.id}')" title="Delete"><span class="material-icons-round">delete</span></button>
  </div>`:'';
  return`<div class="txn ${tx.type==='expense'?'ex':'in'}">
    <div class="tico" style="background:${cat.c}18"><span class="material-icons-round" style="color:${cat.c}">${cat.ico}</span></div>
    <div class="tbody">
      <div class="tc">${cat.n} ${pt}</div>
      <div class="tn">${tx.note||'‚Äî'}</div>
      <div class="tt">${fmtDate(tx.date)} ¬∑ ${tx.time||''}</div>
    </div>
    <div class="tright">
      <div class="tamt ${tx.type==='expense'?'ex':'in'}">${tx.type==='expense'?'-':'+'}${r(tx.amount)}</div>
      ${ab}
    </div>
  </div>`;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  HISTORY
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderHistory(){
  const fr=qs('#catFilters');
  if(!fr.children.length){
    fr.innerHTML=`<div class="fc on" data-c="all" onclick="setCF(this)">${t('all')}</div>`
      +ECATS.map(c=>`<div class="fc" data-c="${c.id}" onclick="setCF(this)">${c.n}</div>`).join('')
      +ICATS.map(c=>`<div class="fc" data-c="${c.id}" onclick="setCF(this)">${c.n}</div>`).join('');
  }
  const ac=(qs('#catFilters .fc.on')||{dataset:{c:'all'}}).dataset.c;
  const sq=(qs('#searchInp').value||'').toLowerCase();
  const fd=qs('#dateFilter').value;
  let txns=[...DS.txns];
  if(ac!=='all') txns=txns.filter(tx=>tx.cat===ac);
  if(sq) txns=txns.filter(tx=>(tx.note||'').toLowerCase().includes(sq)||(tx.cat||'').toLowerCase().includes(sq));
  if(fd) txns=txns.filter(tx=>tx.date===fd);
  const hc=qs('#histContent');
  if(!txns.length){hc.innerHTML=`<div class="empty"><span class="material-icons-round">search_off</span><h3>${t('no_txn_title')}</h3><p>${t('no_txn_sub')}</p></div>`;return;}
  const grps={};
  txns.forEach(tx=>{(grps[tx.date]=grps[tx.date]||[]).push(tx);});
  const days=Object.keys(grps).sort((a,b)=>new Date(b)-new Date(a));
  hc.innerHTML=days.map(d=>{
    const items=grps[d];
    const dt=items.filter(tx=>tx.type==='expense').reduce((s,tx)=>s+tx.amount,0);
    return`<div class="dgrp"><div class="dlbl"><span class="dl">${fmtDate(d)}</span><span class="dr">-${r(dt)}</span></div><div class="tlist">${items.map(tx=>txnRow(tx,true)).join('')}</div></div>`;
  }).join('');
}
function setCF(el){qs('#catFilters .fc.on').classList.remove('on');el.classList.add('on');renderHistory();}
function clearDateFilter(){qs('#dateFilter').value='';renderHistory();}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  REPORTS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderReports(){
  qs('#rMonthTitle').textContent=new Date(rYear,rMonth).toLocaleDateString('en-IN',{month:'long',year:'numeric'});
  buildBar();buildPie();buildLine();
}
function chgMonth(d){rMonth+=d;if(rMonth<0){rMonth=11;rYear--;}if(rMonth>11){rMonth=0;rYear++;}renderReports();}
const cO=()=>({g:document.documentElement.getAttribute('data-theme')==='light'?'rgba(0,0,0,.06)':'rgba(255,255,255,.06)',tx:document.documentElement.getAttribute('data-theme')==='light'?'#555':'#888aaa'});

function buildBar(){
  if(barC){barC.destroy();barC=null;}
  const labels=[],data=[];
  for(let i=5;i>=0;i--){let m=rMonth-i,y=rYear;if(m<0){m+=12;y--;}labels.push(new Date(y,m).toLocaleDateString('en-IN',{month:'short'}));data.push(DS.txns.filter(tx=>tx.type==='expense'&&smth(tx.date,m,y)).reduce((s,tx)=>s+tx.amount,0));}
  const o=cO();
  barC=new Chart(qs('#barChart'),{type:'bar',data:{labels,datasets:[{data,backgroundColor:'rgba(139,127,255,.75)',borderRadius:8,borderSkipped:false}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{x:{grid:{color:o.g},ticks:{color:o.tx}},y:{grid:{color:o.g},ticks:{color:o.tx,callback:v=>'‚Çπ'+v.toLocaleString('en-IN')}}}}});
}
function buildPie(){
  if(pieC){pieC.destroy();pieC=null;}
  const lbs=[],data=[],clrs=[];
  ECATS.forEach(c=>{const tot=DS.txns.filter(tx=>tx.type==='expense'&&smth(tx.date,rMonth,rYear)&&tx.cat===c.id).reduce((s,tx)=>s+tx.amount,0);if(tot>0){lbs.push(c.n);data.push(tot);clrs.push(c.c);}});
  if(!data.length){lbs.push(t('no_data'));data.push(1);clrs.push('#333');}
  const o=cO();
  pieC=new Chart(qs('#pieChart'),{type:'doughnut',data:{labels:lbs,datasets:[{data,backgroundColor:clrs,borderWidth:0,hoverOffset:8}]},options:{responsive:true,maintainAspectRatio:false,cutout:'60%',plugins:{legend:{position:'bottom',labels:{color:o.tx,padding:10,font:{size:10}}}}}});
}
function buildLine(){
  if(lineC){lineC.destroy();lineC=null;}
  const days=new Date(rYear,rMonth+1,0).getDate();
  const lbs=[],data=[];
  for(let d=1;d<=days;d++){const ds=`${rYear}-${String(rMonth+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;lbs.push(d);data.push(DS.txns.filter(tx=>tx.type==='expense'&&tx.date===ds).reduce((s,tx)=>s+tx.amount,0));}
  const o=cO();
  lineC=new Chart(qs('#lineChart'),{type:'line',data:{labels:lbs,datasets:[{data,borderColor:'#4db8ff',backgroundColor:'rgba(77,184,255,.1)',tension:.4,fill:true,pointRadius:2}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{x:{grid:{color:o.g},ticks:{color:o.tx}},y:{grid:{color:o.g},ticks:{color:o.tx,callback:v=>'‚Çπ'+v.toLocaleString('en-IN')}}}}});
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  BILLS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function dUntil(ds){const d=new Date(ds+'T00:00:00');const tx=new Date();tx.setHours(0,0,0,0);return Math.ceil((d-tx)/86400000);}

function billRow(b,acts){
  const days=dUntil(b.dueDate);
  const cat=ECATS.find(c=>c.id===b.cat)||{c:'#818cf8'};
  const ico=BICO[b.cat]||'payments';
  let sc='ok',st=`${days}d`,cc='uc';
  if(b.paid){sc='pd';st=t('paid');cc='';}
  else if(days<0){sc='tod';st=`${Math.abs(days)}d overdue`;cc='dt';}
  else if(days===0){sc='tod';st=t('today_due');cc='dt';}
  else if(days<=3){sc='sn';st=`${days}d ${t('left')}`;cc='ds';}
  else st=`${days}d ${t('left')}`;
  const ab=acts?`<div class="bacts">
    ${!b.paid?`<button class="tabtn" style="color:var(--green);border-color:var(--green)" onclick="markPaid('${b.id}')" title="Paid"><span class="material-icons-round" style="font-size:13px">check</span></button>`:''}
    <button class="tabtn ed" onclick="editBill('${b.id}')" title="Edit"><span class="material-icons-round">edit</span></button>
    <button class="tabtn dl" onclick="delBill('${b.id}')" title="Delete"><span class="material-icons-round">delete</span></button>
  </div>`:'';
  return`<div class="bcard ${cc}">
    <div class="bico" style="background:${cat.c}18"><span class="material-icons-round" style="color:${cat.c}">${ico}</span></div>
    <div class="binfo">
      <div class="bn">${b.name}</div>
      <div class="bd">${b.repeat!=='none'?'üîÑ '+{monthly:t('monthly'),weekly:t('weekly'),yearly:t('yearly')}[b.repeat]+' ¬∑ ':''} ${t('due_date')}: ${b.dueDate}</div>
      ${b.note?`<div class="bd">${b.note}</div>`:''}
    </div>
    <div class="bright">
      <div class="bamt" style="color:${cat.c}">${r(b.amount)}</div>
      <div class="bst ${sc}">${st}</div>
      ${ab}
    </div>
  </div>`;
}

function saveBill(){
  const name=(qs('#bNameInp').value||'').trim();
  const amt=parseFloat(qs('#bAmtInp').value);
  const due=qs('#bDueInp').value;
  if(!name){toast('Bill name required','err');return;}
  if(!amt||amt<=0){toast('Valid amount required','err');return;}
  if(!due){toast('Due date required','err');return;}
  const bill={id:editBillId||Date.now().toString(),name,amount:amt,dueDate:due,cat:qs('#bCatInp').value,repeat:qs('#bRepeatInp').value,note:(qs('#bNoteInp').value||'').trim(),paid:false};
  if(editBillId){const i=DS.bills.findIndex(b=>b.id===editBillId);if(i>-1) DS.bills[i]={...DS.bills[i],...bill};toast('Bill updated! ‚úì','ok');}
  else{DS.bills.push(bill);toast('Bill added! ‚úì','ok');}
  sB();closeM('billModal');renderBills();renderDash();
}
function editBill(id){
  const b=DS.bills.find(x=>x.id===id);if(!b)return;
  editBillId=id;
  qs('#billMTitle').textContent='Edit Bill';
  qs('#billSubmitBtn').textContent='Update Bill';
  qs('#bNameInp').value=b.name;qs('#bAmtInp').value=b.amount;
  qs('#bDueInp').value=b.dueDate;qs('#bCatInp').value=b.cat;
  qs('#bRepeatInp').value=b.repeat;qs('#bNoteInp').value=b.note||'';
  openM('billModal');
}
function delBill(id){
  if(!confirm('Delete bill?'))return;
  DS.bills=DS.bills.filter(b=>b.id!==id);
  sB();renderBills();renderDash();updNotif();toast('Deleted','err');
}
function markPaid(id){
  const b=DS.bills.find(x=>x.id===id);if(!b)return;
  DS.txns.unshift({id:Date.now().toString(),type:'expense',amount:b.amount,cat:b.cat,date:toDS(new Date()),time:new Date().toTimeString().slice(0,5),note:'Bill paid: '+b.name,pay:'UPI'});
  sT();
  if(b.repeat==='monthly'){const nd=new Date(b.dueDate);nd.setMonth(nd.getMonth()+1);b.dueDate=toDS(nd);}
  else if(b.repeat==='weekly'){const nd=new Date(b.dueDate);nd.setDate(nd.getDate()+7);b.dueDate=toDS(nd);}
  else if(b.repeat==='yearly'){const nd=new Date(b.dueDate);nd.setFullYear(nd.getFullYear()+1);b.dueDate=toDS(nd);}
  else b.paid=true;
  sB();renderBills();renderDash();updNotif();toast('Bill paid! ‚úì','ok');
}
function setBF(el){qs('#billFilters .fc.on').classList.remove('on');el.classList.add('on');renderBills();}
function renderBills(){
  const af=(qs('#billFilters .fc.on')||{dataset:{bf:'all'}}).dataset.bf;
  let bills=[...DS.bills].sort((a,b)=>new Date(a.dueDate)-new Date(b.dueDate));
  if(af==='today') bills=bills.filter(b=>!b.paid&&dUntil(b.dueDate)<=0);
  else if(af==='week') bills=bills.filter(b=>!b.paid&&dUntil(b.dueDate)<=7&&dUntil(b.dueDate)>=0);
  else if(af==='paid') bills=bills.filter(b=>b.paid);
  else if(af==='unpaid') bills=bills.filter(b=>!b.paid);
  const bl=qs('#billsList');
  bl.innerHTML=bills.length?bills.map(b=>billRow(b,true)).join(''):`<div class="empty"><span class="material-icons-round">event_available</span><h3>${t('no_txn_title')}</h3></div>`;
  renderEmis();updNotif();
}
function updNotif(){
  const cnt=DS.bills.filter(b=>!b.paid&&dUntil(b.dueDate)<=1).length;
  qs('#notifDot').classList.toggle('on',cnt>0);
  qs('#billsDot').classList.toggle('on',cnt>0);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  EMI
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function saveEmi(){
  const name=(qs('#eNameInp').value||'').trim();
  const total=parseFloat(qs('#eTotalInp').value);
  const emi=parseFloat(qs('#eEmiInp').value);
  const totalE=parseInt(qs('#eTotalEmiInp').value);
  const paid=parseInt(qs('#ePaidInp').value)||0;
  if(!name||!total||!emi||!totalE){toast('All fields required','err');return;}
  const obj={id:editEmiId||Date.now().toString(),name,bank:(qs('#eBankInp').value||'').trim(),total,emi,totalEmis:totalE,paid,startDate:qs('#eStartInp').value,dueDay:parseInt(qs('#eDayInp').value)||5,rate:parseFloat(qs('#eRateInp').value)||0};
  if(editEmiId){const i=DS.emis.findIndex(e=>e.id===editEmiId);if(i>-1) DS.emis[i]=obj;toast('EMI updated! ‚úì','ok');}
  else{DS.emis.push(obj);toast('EMI added! ‚úì','ok');}
  sE();closeM('emiModal');renderEmis();
}
function editEmiItem(id){
  const e=DS.emis.find(x=>x.id===id);if(!e)return;
  editEmiId=id;
  qs('#emiMTitle').textContent='Edit EMI';
  qs('#emiSubmitBtn').textContent='Update EMI';
  qs('#eNameInp').value=e.name;qs('#eBankInp').value=e.bank||'';
  qs('#eTotalInp').value=e.total;qs('#eEmiInp').value=e.emi;
  qs('#eTotalEmiInp').value=e.totalEmis;qs('#ePaidInp').value=e.paid;
  qs('#eStartInp').value=e.startDate;qs('#eDayInp').value=e.dueDay;
  qs('#eRateInp').value=e.rate;
  openM('emiModal');
}
function delEmi(id){
  if(!confirm('Delete EMI?'))return;
  DS.emis=DS.emis.filter(e=>e.id!==id);sE();renderEmis();toast('Deleted','err');
}
function renderEmis(){
  const el=qs('#emiList');
  if(!DS.emis.length){el.innerHTML=`<div class="empty"><span class="material-icons-round">credit_card</span><h3>${t('no_txn_title')}</h3></div>`;return;}
  el.innerHTML=DS.emis.map((e,idx)=>{
    const rem=e.totalEmis-e.paid, pct=Math.min(100,(e.paid/e.totalEmis)*100).toFixed(1);
    const remAmt=rem*e.emi, clr=ECLRS[idx%ECLRS.length];
    return`<div class="ecard">
      <div class="etop">
        <div class="eico" style="background:${clr}"><span class="material-icons-round">credit_card</span></div>
        <div class="etit">
          <div class="en">${e.name}${e.bank?' ¬∑ '+e.bank:''}</div>
          <div class="eb">${t('due_day')}: ${e.dueDay} ¬∑ ${t('interest_rate')}: ${e.rate}%</div>
          <div class="ea">${r(e.emi)}/${t('month')}</div>
        </div>
        <div style="display:flex;gap:3px">
          <button class="tabtn ed" onclick="editEmiItem('${e.id}')" title="Edit"><span class="material-icons-round">edit</span></button>
          <button class="tabtn dl" onclick="delEmi('${e.id}')" title="Delete"><span class="material-icons-round">delete</span></button>
        </div>
      </div>
      <div class="epbar"><div class="epfill" style="width:${pct}%;background:${clr}"></div></div>
      <div class="eplbl"><span>${e.paid}/${e.totalEmis} ${t('paid')} (${pct}%)</span><span>${rem} ${t('left')}</span></div>
      <div class="etags">
        <div class="etag">${t('total_amount')}: ${r(e.total)}</div>
        <div class="etag">${t('left')}: ${r(remAmt)}</div>
        <div class="etag" style="color:${clr}">${t('paid')}: ${r(e.paid*e.emi)}</div>
      </div>
    </div>`;
  }).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  WHATSAPP SHARE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openWa(txnId){
  waTxnId=txnId; waType='single';
  document.querySelectorAll('[data-wt]').forEach(c=>c.classList.toggle('sel',c.dataset.wt==='single'));
  updateWaPreview();openM('waModal');
}
function setWaType(el){
  document.querySelectorAll('[data-wt]').forEach(c=>c.classList.remove('sel'));
  el.classList.add('sel'); waType=el.dataset.wt;updateWaPreview();
}
function updateWaPreview(){
  const app='üìä *MyKharcha*';let msg='';
  if(waType==='single'&&waTxnId){
    const tx=DS.txns.find(x=>x.id===waTxnId);
    if(tx){const cats=tx.type==='expense'?ECATS:ICATS;const cat=cats.find(c=>c.id===tx.cat)||{n:tx.cat};
      msg=`${app}\n\n${tx.type==='expense'?'üí∏ '+t('expense'):'üí∞ '+t('income')}\n\nüí∞ Amount: *${r(tx.amount)}*\nüìÇ ${t('category')}: ${cat.n}\nüìÖ ${t('date')}: ${tx.date} ${tx.time||''}\n${tx.type==='expense'?`üí≥ ${t('payment_method')}: ${tx.pay}\n`:''}\nüìù ${t('note_optional')}: ${tx.note||'‚Äî'}\n\n_Shared via MyKharcha_`;}
  } else if(waType==='today'){
    const today=toDS(new Date());const tt=DS.txns.filter(tx=>tx.date===today);
    const ex=tt.filter(tx=>tx.type==='expense').reduce((s,tx)=>s+tx.amount,0);
    const inc=tt.filter(tx=>tx.type==='income').reduce((s,tx)=>s+tx.amount,0);
    msg=`${app}\n\nüìÖ *${t('today_summary')}* (${today})\n\nüí∏ ${t('expense')}: *${r(ex)}*\nüí∞ ${t('income')}: *${r(inc)}*\nüíö Balance: *${r(inc-ex)}*\nüìä Txns: ${tt.length}\n\n_Shared via MyKharcha_`;
  } else if(waType==='month'){
    const now=new Date(),m=now.getMonth(),y=now.getFullYear();
    const mE=DS.txns.filter(tx=>tx.type==='expense'&&smth(tx.date,m,y));
    const mI=DS.txns.filter(tx=>tx.type==='income'&&smth(tx.date,m,y));
    const eT=sm(mE),iT=sm(mI);const mn=now.toLocaleDateString('en-IN',{month:'long',year:'numeric'});
    msg=`${app}\n\nüìÖ *${mn} ${t('month_report')}*\n\nüí∏ ${t('expense')}: *${r(eT)}*\nüí∞ ${t('income')}: *${r(iT)}*\nüíö ${t('savings')}: *${r(Math.max(0,iT-eT))}*\nüìä Txns: ${mE.length+mI.length}\n\n_Shared via MyKharcha_`;
  }
  qs('#waPreview').textContent=msg||'Select share type';
}
function doWaShare(){
  const msg=qs('#waPreview').textContent;
  if(!msg||msg==='Select share type'){toast('Select type first','err');return;}
  window.open('https://wa.me/?text='+encodeURIComponent(msg),'_blank');
  closeM('waModal');toast('Opening WhatsApp! ‚úì','ok');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  BUDGET
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function chgBMonth(d){bMonth+=d;if(bMonth<0){bMonth=11;bYear--;}if(bMonth>11){bMonth=0;bYear++;}renderBudget();}
function buildBudgetInps(){
  qs('#budgetInpsList').innerHTML=ECATS.map(c=>`
    <div class="fg">
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px">
        <span class="material-icons-round" style="color:${c.c};font-size:16px">${c.ico}</span>
        <label class="fl" style="margin-bottom:0">${c.n} (‚Çπ)</label>
      </div>
      <input type="number" class="fi" id="bg_${c.id}" placeholder="0 = ${t('no_limit')||'no limit'}" value="${DS.budgets[c.id]||''}">
    </div>`).join('');
}
function saveBudgets(){
  ECATS.forEach(c=>{const v=parseFloat(qs('#bg_'+c.id).value)||0;if(v>0) DS.budgets[c.id]=v;else delete DS.budgets[c.id];});
  sBg();closeM('budgetEditModal');renderBudget();toast(t('save')+' ‚úì','ok');
}
function renderBudget(){
  qs('#budgetMonthTitle').textContent=new Date(bYear,bMonth).toLocaleDateString('en-IN',{month:'long',year:'numeric'});
  const mE=DS.txns.filter(tx=>tx.type==='expense'&&smth(tx.date,bMonth,bYear));
  const totalB=Object.values(DS.budgets).reduce((s,v)=>s+v,0);
  const totalS=sm(mE), rem=Math.max(0,totalB-totalS);
  const pct=totalB>0?Math.min(100,(totalS/totalB)*100).toFixed(0):0;
  qs('#budgetTotal').textContent=r(totalB);
  qs('#budgetSub').textContent=totalB>0?t('monthly_budget'):'No budget set ‚Äì tap "Edit Budgets"';
  qs('#budgetSpent').textContent=r(totalS);
  qs('#budgetLeft').textContent=r(rem);
  qs('#budgetPct').textContent=pct+'%';
  const bcl=qs('#budgetCatList');
  const cd=ECATS.map(c=>{const sp=mE.filter(tx=>tx.cat===c.id).reduce((s,tx)=>s+tx.amount,0);const bg=DS.budgets[c.id]||0;return{...c,sp,bg};}).filter(c=>c.sp>0||c.bg>0).sort((a,b)=>b.sp-a.sp);
  if(!cd.length){bcl.innerHTML=`<div class="empty" style="padding:20px 0"><p>${t('no_data')}</p></div>`;return;}
  bcl.innerHTML=cd.map(c=>{
    const p2=c.bg>0?Math.min(100,(c.sp/c.bg)*100).toFixed(0):(c.sp>0?100:0);
    const fc=c.bg>0?(c.sp/c.bg>1?'ov':c.sp/c.bg>0.8?'wn':'sf'):'sf';
    return`<div class="bcitem">
      <div class="bctop"><div class="bcico" style="background:${c.c}18"><span class="material-icons-round" style="color:${c.c}">${c.ico}</span></div><div class="bcn">${c.n}</div><div class="bcp">${p2}%</div></div>
      <div class="bcamts"><span class="bcsp" style="color:${c.c}">${r(c.sp)} ${t('spent')}</span><span class="bcbg">${c.bg>0?r(c.bg)+' budget':'No limit'}</span></div>
      <div class="bcbar"><div class="bcfill ${fc}" style="width:${p2}%;background:${c.c}"></div></div>
    </div>`;
  }).join('');
  buildBudgetChart(cd);
}
function buildBudgetChart(cd){
  if(budgetC){budgetC.destroy();budgetC=null;}
  const o=cO();
  budgetC=new Chart(qs('#budgetChart'),{type:'bar',data:{labels:cd.map(c=>c.n),datasets:[{label:t('spent'),data:cd.map(c=>c.sp),backgroundColor:'rgba(255,95,126,.75)',borderRadius:6,borderSkipped:false},{label:'Budget',data:cd.map(c=>c.bg),backgroundColor:'rgba(139,127,255,.35)',borderRadius:6,borderSkipped:false}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'top',labels:{color:o.tx,font:{size:10}}}},scales:{x:{grid:{color:o.g},ticks:{color:o.tx,font:{size:9}}},y:{grid:{color:o.g},ticks:{color:o.tx,callback:v=>'‚Çπ'+v.toLocaleString('en-IN')}}}}});
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  SETTINGS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderSettings(){
  const s=DS.settings;
  if(document.getElementById('tglTheme')) document.getElementById('tglTheme').classList.toggle('on',s.theme==='light');
  qs('#tglLimit').classList.toggle('on',!!s.limitEnabled);
  qs('#limitStTxt').textContent=s.limitEnabled&&s.dailyLimit?`‚Çπ${rfmt(s.dailyLimit)} active`:t('not_set');
  qs('#limitForm').style.display=s.limitEnabled?'':'none';
  if(s.dailyLimit) qs('#limitInp').value=s.dailyLimit;
  qs('#tglPin').classList.toggle('on',!!s.pinEnabled);
  qs('#pinStTxt').textContent=s.pinEnabled?'Enabled ‚Äì tap to change':'Disabled';
  document.querySelectorAll('.lang-btn').forEach(b=>b.classList.toggle('sel',b.getAttribute('data-lang')===curLang));
  // Refresh color theme UI
  const ct=s.colorTheme||'purple';
  document.querySelectorAll('.ct-card').forEach(c=>c.classList.toggle('active',c.getAttribute('data-color')===ct));
  const md=document.getElementById('modeDark');
  const ml=document.getElementById('modeLight');
  if(md) md.classList.toggle('active',s.theme!=='light');
  if(ml) ml.classList.toggle('active',s.theme==='light');
  const gl=qs('#goalsList');
  if(!DS.goals.length){gl.innerHTML=`<div style="color:var(--txt3);font-size:12px;padding:3px 2px 9px">No goals yet.</div>`;return;}
  gl.innerHTML=DS.goals.map((g,i)=>{
    const pct=Math.min(100,(g.saved/g.target)*100).toFixed(0);
    return`<div class="gcard">
      <div class="gtop">
        <div><div class="gname">üéØ ${g.name}</div><div class="gamts">‚Çπ${rfmt(g.saved)} / ‚Çπ${rfmt(g.target)}</div></div>
        <button class="gdel" onclick="delGoal(${i})"><span class="material-icons-round">close</span></button>
      </div>
      <div class="gbar"><div class="gfill" style="width:${pct}%"></div></div>
      <div class="gpct">${pct}% complete</div>
    </div>`;
  }).join('');
}
function tglLimit(){DS.settings.limitEnabled=!DS.settings.limitEnabled;sS();renderSettings();renderDash();}
function saveLimit(){
  const v=parseFloat(qs('#limitInp').value);
  if(!v||v<=0){toast('Valid amount required','err');return;}
  DS.settings.dailyLimit=v;sS();renderSettings();renderDash();toast(t('save')+' ‚úì','ok');
}
function saveGoal(){
  const n=(qs('#gNameInp').value||'').trim();
  const tg=parseFloat(qs('#gTargetInp').value);
  const sv=parseFloat(qs('#gSavedInp').value)||0;
  if(!n||!tg||tg<=0){toast('Fill all fields','err');return;}
  DS.goals.push({name:n,target:tg,saved:sv});sG();
  closeM('goalModal');renderSettings();
  qs('#gNameInp').value='';qs('#gTargetInp').value='';qs('#gSavedInp').value='';
  toast('Goal added! ‚úì','ok');
}
function delGoal(i){
  if(!confirm('Delete goal?'))return;
  DS.goals.splice(i,1);sG();renderSettings();toast('Deleted','err');
}
function clearAllData(){
  if(!confirm('DELETE ALL DATA?\n\nThis cannot be undone!'))return;
  DS.txns=[];DS.goals=[];DS.bills=[];DS.emis=[];DS.budgets={};
  sT();sG();sB();sE();sBg();renderDash();toast('All data cleared','err');
}


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  PIN LOCK
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let pinBuf='';
function initLock(){
  if(!DS.settings.pinEnabled||!DS.settings.pin) return;
  qs('#lkscr').style.display='flex';
  qs('#numpad').innerHTML=[1,2,3,4,5,6,7,8,9,'','0','‚å´']
    .map(n=>`<button class="nb" onclick="pinTap('${n}')">${n}</button>`).join('');
}
function pinTap(n){
  if(n==='') return;
  if(n==='‚å´') pinBuf=pinBuf.slice(0,-1);
  else if(pinBuf.length<4) pinBuf+=n;
  for(let i=0;i<4;i++) qs('#pd'+i).classList.toggle('on',i<pinBuf.length);
  if(pinBuf.length===4){
    if(pinBuf===DS.settings.pin){
      qs('#lkscr').style.display='none'; pinBuf=''; toast('Unlocked! ‚úì','ok');
    } else {
      qs('#pinerr').textContent='Wrong PIN, try again';
      setTimeout(()=>{pinBuf='';for(let i=0;i<4;i++) qs('#pd'+i).classList.remove('on');qs('#pinerr').textContent='';},700);
    }
  }
}
function savePin(){
  const a=qs('#pinA').value, b=qs('#pinB').value;
  if(a.length!==4||!/^\d+$/.test(a)){toast('PIN must be 4 digits','err');return;}
  if(a!==b){toast('PINs do not match','err');return;}
  DS.settings.pin=a; DS.settings.pinEnabled=true; sS();
  closeM('pinModal'); renderSettings(); toast('PIN lock enabled! ‚úì','ok');
}
function disablePin(){
  if(!confirm('Remove PIN lock?')) return;
  DS.settings.pin=''; DS.settings.pinEnabled=false; sS();
  closeM('pinModal'); renderSettings(); toast('PIN lock removed','ok');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  EXPORT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function exportPDF(){
  if(!window.jspdf){toast('Loading PDF library...','warn');return;}
  try{
    const{jsPDF}=window.jspdf;const doc=new jsPDF();
    doc.setFontSize(18);doc.setTextColor(139,127,255);doc.text('MyKharcha ‚Äì Expense Report',14,20);
    doc.setFontSize(10);doc.setTextColor(100,100,120);
    doc.text(`Generated: ${new Date().toLocaleDateString('en-IN')} | Total: ${DS.txns.length} transactions`,14,30);
    let y=44;doc.setFontSize(9);doc.setTextColor(50,50,60);
    const hds=['Date','Time','Type','Category','Amount','Payment','Note'];
    const xs=[14,36,54,72,100,127,154];
    hds.forEach((h,i)=>doc.text(h,xs[i],y));
    y+=2;doc.setDrawColor(139,127,255);doc.line(14,y,196,y);y+=6;
    DS.txns.slice(0,80).forEach(tx=>{
      if(y>278){doc.addPage();y=20;}
      const cats=tx.type==='expense'?ECATS:ICATS;
      const cat=cats.find(c=>c.id===tx.cat)||{n:tx.cat};
      doc.text(tx.date||'',xs[0],y);doc.text((tx.time||'').slice(0,5),xs[1],y);
      doc.text(tx.type,xs[2],y);doc.text(cat.n,xs[3],y);
      doc.text('Rs.'+tx.amount,xs[4],y);doc.text(tx.pay||'-',xs[5],y);
      doc.text((tx.note||'-').slice(0,18),xs[6],y);y+=6;
    });
    doc.save('MyKharcha_Report.pdf');toast('PDF exported! ‚úì','ok');
  }catch(e){toast('PDF export failed','err');}
}
function exportXLSX(){
  if(!window.XLSX){toast('Loading Excel library...','warn');return;}
  try{
    const rows=DS.txns.map(tx=>({Date:tx.date,Time:tx.time,Type:tx.type,Category:tx.cat,Amount:tx.amount,Payment:tx.pay||'',Note:tx.note||''}));
    const ws=XLSX.utils.json_to_sheet(rows);
    const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,'Transactions');
    XLSX.writeFile(wb,'MyKharcha.xlsx');toast('Excel exported! ‚úì','ok');
  }catch(e){toast('Excel export failed','err');}
}
function doBackup(){
  const data=JSON.stringify({txns:DS.txns,goals:DS.goals,bills:DS.bills,emis:DS.emis,settings:DS.settings,budgets:DS.budgets},null,2);
  const a=document.createElement('a');
  a.href=URL.createObjectURL(new Blob([data],{type:'application/json'}));
  a.download=`MyKharcha_Backup_${toDS(new Date())}.json`;
  document.body.appendChild(a);a.click();document.body.removeChild(a);
  toast('Backup saved! ‚úì','ok');
}
function doRestore(e){
  const f=e.target.files[0];if(!f)return;
  const rd=new FileReader();
  rd.onload=ev=>{
    try{
      const d=JSON.parse(ev.target.result);
      if(d.txns) DS.txns=d.txns;if(d.goals) DS.goals=d.goals;
      if(d.bills) DS.bills=d.bills;if(d.emis) DS.emis=d.emis;
      if(d.settings) DS.settings=Object.assign({},DS.settings,d.settings);
      if(d.budgets) DS.budgets=d.budgets;
      sT();sG();sB();sE();sS();sBg();renderDash();updNotif();
      toast('Data restored! ‚úì','ok');
    }catch(err){toast('Invalid backup file','err');}
  };
  rd.readAsText(f);e.target.value='';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  UTILS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const qs=s=>document.querySelector(s);
const r=n=>'‚Çπ'+(n||0).toLocaleString('en-IN',{maximumFractionDigits:0});
const rfmt=n=>(n||0).toLocaleString('en-IN');
const sm=arr=>arr.reduce((s,tx)=>s+tx.amount,0);
const toDS=d=>d.toISOString().split('T')[0];
const smth=(ds,m,y)=>{try{const d=new Date(ds);return d.getMonth()===m&&d.getFullYear()===y;}catch{return false;}};
function fmtDate(ds){
  try{
    const d=new Date(ds+'T00:00:00');const tx=new Date();tx.setHours(0,0,0,0);
    const diff=Math.round((tx-d)/86400000);
    if(diff===0)return t('today');if(diff===1)return'Yesterday';
    return d.toLocaleDateString('en-IN',{day:'numeric',month:'short',year:'2-digit'});
  }catch{return ds;}
}
let ttimer;
function toast(msg,type='ok'){
  const T=qs('#toast');
  qs('#tMsg').textContent=msg;
  qs('#tIco').textContent={ok:'check_circle',err:'error',warn:'warning_amber'}[type]||'info';
  T.className=`${type} on`;
  clearTimeout(ttimer);ttimer=setTimeout(()=>T.classList.remove('on'),3000);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// Firebase startup ‚Äî hardcoded config
(function startApp(){
  const FIREBASE_CONFIG={
    apiKey:"AIzaSyBVc4zFK6wbnVzU0hd2ttem7jdiydWksGU",
    authDomain:"mykharcha-app.firebaseapp.com",
    projectId:"mykharcha-app",
    appId:"1:599548339400:web:d0a16d2b763e3bfde231fd",
    storageBucket:"mykharcha-app.appspot.com",
    messagingSenderId:"599548339400"
  };
  localStorage.setItem('mk_fb_config',JSON.stringify(FIREBASE_CONFIG));
  document.getElementById('app').style.display='none';
  document.getElementById('configScreen').classList.remove('show');
  initFirebase(FIREBASE_CONFIG);
})();

load(); // local data as fallback while firebase loads
curLang = DS.settings.lang || 'en';
applyTheme(DS.settings.theme);
applyColorTheme(DS.settings.colorTheme || 'purple');
injectManifest();
regSW();
applyLang();

const _n=new Date();
qs('#hdrDate').textContent=_n.toLocaleDateString('en-IN',{weekday:'long',day:'numeric',month:'short'});
qs('#dateInp').value=toDS(_n);
qs('#timeInp').value=_n.toTimeString().slice(0,5);
qs('#bDueInp').value=toDS(_n);
qs('#eStartInp').value=toDS(_n);

buildCatChips();
renderDash();
updNotif();
initLock();
</script>
</body>
</html>
